(self.webpackChunkmy_new_custom_application_project=self.webpackChunkmy_new_custom_application_project||[]).push([[9190],{"./node_modules/@commercetools/sync-actions/dist/sync-actions.umd.js":function(t,e,n){!function(t,e,r,i,a,o,s){"use strict";function _interopDefaultLegacy(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c=_interopDefaultLegacy(e),u=_interopDefaultLegacy(r),f=_interopDefaultLegacy(i),l=_interopDefaultLegacy(a),d=_interopDefaultLegacy(o),h=_interopDefaultLegacy(s);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function _objectWithoutProperties(t,e){if(null==t)return{};var n,r,i=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArray(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p=["prices"];function applyOnBeforeDiff(t,e,n){return n&&"function"===typeof n?n(t,e):[t,e]}var y=function createPriceComparator(t){return{value:{currencyCode:t.value.currencyCode},channel:t.channel,country:t.country,customerGroup:t.customerGroup,validFrom:t.validFrom,validUntil:t.validUntil}};function arePricesStructurallyEqual(t,e){var n=y(t),r=y(e);return u.default(r,n)}function extractPriceFromPreviousVariant(t,e){return e&&e.prices.find((function(e){return arePricesStructurallyEqual(e,t)}))||null}function injectMissingPriceIds(t,e){return t.map((function(t){var n=t.prices,r=_objectWithoutProperties(t,p);if(!n)return r;var i=e.find((function(e){return!f.default(e.id)&&e.id===t.id||!f.default(e.key)&&e.key===t.key||!f.default(e.sku)&&e.sku===t.sku}));return _objectSpread2(_objectSpread2({},r),{},{prices:n.map((function(t){var e=_objectSpread2({},t),n=extractPriceFromPreviousVariant(t,i);return n&&(e.id||(e.id=n.id),f.default(e.value.type)&&(e.value.type=n.value.type),f.default(e.value.fractionDigits)&&(e.value.fractionDigits=n.value.fractionDigits)),e}))})}))}function createBuildActions(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function buildActions(i,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i||!a)throw new Error("Missing either `newObj` or `oldObj` in order to build update actions");var s=_slicedToArray(applyOnBeforeDiff(a,i,n),2),c=s[0],u=s[1];u.variants&&c.variants&&(u.variants=injectMissingPriceIds(u.variants,c.variants));var f=t(c,u);return r.withHints||f?e(f,u,c,o):[]}}function createMapActionGroup(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function mapActionGroup(e,n){if(!Object.keys(t).length)return n();var r=t.find((function(t){return t.type===e}));if(!r)return[];if("ignore"===r.group||"black"===r.group)return[];if("allow"===r.group||"white"===r.group)return n();throw new Error("Action group '".concat(r.group,'\' not supported. Use either "allow" or "ignore".'))}}function objectHash(t,e){var n="$$index:".concat(e);return"object"===_typeof(t)&&null!==t&&(t.id||t.name||t.url)||n}var v=new(0,n("./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js").DiffPatcher)({objectHash:objectHash,arrays:{detectMove:!0,includeValueOnMove:!1},textDiff:{minLength:Number.MAX_SAFE_INTEGER}});function diff(t,e){return v.diff(t,e)}function patch(t,e){return v.patch(t,e)}function getDeltaValue(t,e){if(!Array.isArray(t))throw new Error("Expected array to extract delta value");if(1===t.length)return t[0];if(2===t.length)return t[1];if(3!==t.length||0!==t[2]){if(3===t.length&&2===t[2]){if(!e)throw new Error("Cannot apply patch to long text diff. Missing original object.");return patch(e,t)}if(3===t.length&&3===t[2])throw new Error("Detected an array move, it should not happen as `includeValueOnMove` should be set to false");throw new Error("Got unsupported number ".concat(t[2]," in delta value"))}}var g=["actions"],m={setCustomType:"setCustomType",setCustomField:"setCustomField"},b=function hasSingleCustomFieldChanged(t){return Array.isArray(t.custom)},_=function haveMultipleCustomFieldsChanged(t){return Boolean(t.custom.fields)},A=function hasCustomTypeChanged(t){return Boolean(t.custom.type)},j=function extractCustomType(t,e){return Array.isArray(t.custom.type)?getDeltaValue(t.custom.type,e):t.custom.type},k=function extractTypeId(t,e){return Array.isArray(t.id)?getDeltaValue(t.id):e.custom.type.id},O=function extractTypeKey(t,e){return Array.isArray(t.key)?getDeltaValue(t.key):e.custom.type.key},M=function extractTypeFields(t,e){return Array.isArray(t)?getDeltaValue(t):e},C=function extractFieldValue(t,e){return t[e]};function actionsMapCustom(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{actions:{}},i=[],a=r.actions,o=_objectWithoutProperties(r,g),s=_objectSpread2(_objectSpread2({},m),a);if(!t.custom)return i;if(b(t)){var c=getDeltaValue(t.custom,n);i.push(_objectSpread2(_objectSpread2({action:s.setCustomType},o),c))}else if(A(t)){var u=j(t,n);u?u.id?i.push(_objectSpread2(_objectSpread2({action:s.setCustomType},o),{},{type:{typeId:"type",id:k(u,e)},fields:M(t.custom.fields,e.custom.fields)})):u.key&&i.push(_objectSpread2(_objectSpread2({action:s.setCustomType},o),{},{type:{typeId:"type",key:O(u,e)},fields:M(t.custom.fields,e.custom.fields)})):i.push(_objectSpread2({action:s.setCustomType},o))}else if(_(t)){var f=Object.keys(t.custom.fields).map((function(t){return _objectSpread2(_objectSpread2({action:s.setCustomField},o),{},{name:t,value:C(e.custom.fields,t)})}));i.push.apply(i,_toConsumableArray(f))}return i}var x=new RegExp(/^\d+$/),S=new RegExp(/^_\d+$/),w="create",I="remove",P="change";function isCreateAction(t,e){return x.test(e)&&Array.isArray(t[e])&&1===t[e].length}function isChangeAction(t,e){return x.test(e)&&("object"===_typeof(t[e])||"string"===typeof t[e])}function isRemoveAction$1(t,e){return S.test(e)&&Array.isArray(t[e])&&3===t[e].length&&("object"===_typeof(t[e][0])||"string"===typeof t[e][0])&&0===t[e][1]&&0===t[e][2]}function createBuildArrayActions(t,e){return function buildArrayActions(n,r,i){var a=[],o=[],s=[];if(n[t]){var c=n[t];Object.keys(c).forEach((function(n){if(e[w]&&isCreateAction(c,n)){var u=(0,e[w])(i[t][n],parseInt(n,10));u&&a.push(u)}else if(e[P]&&isChangeAction(c,n)){var f=(0,e[P])(r[t][n],i[t][n],parseInt(n,10));f&&s.push(f)}else if(e[I]&&isRemoveAction$1(c,n)){var l=n.replace("_",""),d=(0,e[I])(r[t][l],parseInt(l,10));d&&o.push(d)}}))}return s.concat(o,a)}}function toAssetIdentifier$1(t){return t.id?{assetId:t.id}:{assetKey:t.key}}function actionsMapAssets$1(t,e,n){var r;return createBuildArrayActions("assets",(_defineProperty(r={},w,(function(t){return{action:"addAsset",asset:t}})),_defineProperty(r,I,(function(t){return _objectSpread2({action:"removeAsset"},toAssetIdentifier$1(t))})),_defineProperty(r,P,(function(t,e){return[_objectSpread2({action:"removeAsset"},toAssetIdentifier$1(t)),{action:"addAsset",asset:e}]})),r))(t,e,n)}function clone(t){return JSON.parse(JSON.stringify(t))}var E=function normalizeValue(t){return"string"===typeof t?t.trim():t},D=function createIsEmptyValue(t){return function(e){return t.some((function(t){return t===E(e)}))}};function buildBaseAttributesActions(t){var e=t.actions,n=t.diff,r=t.oldObj,i=t.newObj,a=t.shouldOmitEmptyString,o=D(a?[void 0,null,""]:[void 0,null]);return e.map((function(t){var e=t.key,a=t.actionKey||t.key,s=n[e],c=r[e],u=i[e],f=o(r[e]),l=o(i[e]);if(s&&(!l||!f)){if(!l&&f)return _defineProperty({action:t.action},a,u);if(!l||{}.hasOwnProperty.call(i,e)){if(l&&{}.hasOwnProperty.call(i,e))return{action:t.action};var d=patch(clone(c),s);return _defineProperty({action:t.action},a,d)}}})).filter((function(t){return!f.default(t)}))}function buildReferenceActions(t){var e=t.actions,n=t.diff,r=t.newObj;return e.map((function(t){var e=t.action,i=t.key;if(n[i]&&(Array.isArray(n[i])||n[i].id)){var a=Array.isArray(n[i])?getDeltaValue(n[i]):r[i];return a?a.id?_defineProperty({action:e},i,{typeId:a.typeId,id:a.id}):_defineProperty({action:e},i,{typeId:a.typeId,key:a.key}):{action:e}}})).filter((function(t){return t}))}var R=[{action:"changeName",key:"name"},{action:"changeSlug",key:"slug"},{action:"setDescription",key:"description"},{action:"changeOrderHint",key:"orderHint"},{action:"setExternalId",key:"externalId"},{action:"setKey",key:"key"}],F=[{action:"setMetaTitle",key:"metaTitle"},{action:"setMetaKeywords",key:"metaKeywords"},{action:"setMetaDescription",key:"metaDescription"}],B=[{action:"changeParent",key:"parent"}];function actionsMapBase$j(t,e,n){return buildBaseAttributesActions({actions:R,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapReferences$3(t,e,n){return buildReferenceActions({actions:B,diff:t,oldObj:e,newObj:n})}function actionsMapMeta$1(t,e,n){return buildBaseAttributesActions({actions:F,diff:t,oldObj:e,newObj:n})}var T="custom";function copyEmptyArrayProps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default(t)||f.default(e)?[t,e]:[t,Object.entries(t).reduce((function(t,n){var r=_slicedToArray(n,2),i=r[0],a=r[1];if(i===T)return t;if(Array.isArray(a)&&e[i]&&e[i].length>=1){for(var o=a.reduce((function(t,e){return t[e.id]=e,t}),{}),s=0;s<e[i].length;s++)if(!f.default(e[i][s])&&"object"===_typeof(e[i][s])&&!f.default(e[i][s].id)){var c=o[e[i][s].id];if(!f.default(c)){var u=_slicedToArray(copyEmptyArrayProps(c,e[i][s]),2)[1];Object.isFrozen(t[i])&&(t[i]=t[i].slice()),t[i][s]=u}}return t}if(Array.isArray(a))return t[i]=f.default(e[i])?[]:e[i],t;if(!f.default(e[i])&&"object"===_typeof(a)&&!(a instanceof Date)){var l=_slicedToArray(copyEmptyArrayProps(a,e[i]),2)[1];return t[i]=l,t}return t}),_objectSpread2({},e))]}function createCategoryMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$j(n,i,r,e)}))),a.push(t("references",(function(){return actionsMapReferences$3(n,i,r)}))),a.push(t("meta",(function(){return actionsMapMeta$1(n,i,r)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),a.push(t("assets",(function(){return actionsMapAssets$1(n,i,r)}))),c.default(a)}}var categories=function(t,e){return{buildActions:createBuildActions(diff,createCategoryMapActions(createMapActionGroup(t),e),copyEmptyArrayProps)}},N=D([void 0,null,""]),L=[{action:"setSalutation",key:"salutation"},{action:"changeEmail",key:"email"},{action:"setFirstName",key:"firstName"},{action:"setLastName",key:"lastName"},{action:"setMiddleName",key:"middleName"},{action:"setTitle",key:"title"},{action:"setCustomerNumber",key:"customerNumber"},{action:"setExternalId",key:"externalId"},{action:"setCompanyName",key:"companyName"},{action:"setDateOfBirth",key:"dateOfBirth"},{action:"setLocale",key:"locale"},{action:"setVatId",key:"vatId"},{action:"setStores",key:"stores"},{action:"setKey",key:"key"}],V=[{action:"setDefaultBillingAddress",key:"defaultBillingAddressId",actionKey:"addressId"},{action:"setDefaultShippingAddress",key:"defaultShippingAddressId",actionKey:"addressId"}],$=[{action:"setCustomerGroup",key:"customerGroup"}],H=[{action:"setAuthenticationMode",key:"authenticationMode",value:"password"}];function actionsMapBase$i(t,e,n){return buildBaseAttributesActions({actions:L,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapSetDefaultBase(t,e,n){return buildBaseAttributesActions({actions:V,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapReferences$2(t,e,n){return buildReferenceActions({actions:$,diff:t,oldObj:e,newObj:n})}function actionsMapAddresses(t,e,n){var r;return createBuildArrayActions("addresses",(_defineProperty(r={},w,(function(t){return{action:"addAddress",address:t}})),_defineProperty(r,I,(function(t){return{action:"removeAddress",addressId:t.id}})),_defineProperty(r,P,(function(t,e){return{action:"changeAddress",addressId:t.id,address:e}})),r))(t,e,n)}function actionsMapBillingAddresses(t,e,n){var r;return createBuildArrayActions("billingAddressIds",(_defineProperty(r={},w,(function(t){return{action:"addBillingAddressId",addressId:t}})),_defineProperty(r,I,(function(t){return{action:"removeBillingAddressId",addressId:t}})),r))(t,e,n)}function actionsMapShippingAddresses(t,e,n){var r;return createBuildArrayActions("shippingAddressIds",(_defineProperty(r={},w,(function(t){return{action:"addShippingAddressId",addressId:t}})),_defineProperty(r,I,(function(t){return{action:"removeShippingAddressId",addressId:t}})),r))(t,e,n)}function actionsMapAuthenticationModes(t,e,n){return buildAuthenticationModeActions({actions:H,diff:t,oldObj:e,newObj:n})}function buildAuthenticationModeActions(t){var e=t.actions,n=t.diff,r=t.oldObj,i=t.newObj;return e.map((function(t){var e=t.key,a=t.value||t.key,o=n[e],s=r[e],c=i[e],u=N(r[e]),f=N(i[e]),l=["Password","ExternalAuth"];if(o&&(!f||!u)){if("Password"===i.authenticationMode&&!i.password)throw new Error("Cannot set to Password authentication mode without password");if("authenticationMode"in i&&!l.includes(i.authenticationMode))throw new Error("Invalid Authentication Mode");if(!f&&u)return"ExternalAuth"===i.authenticationMode?{action:t.action,authMode:c}:_defineProperty({action:t.action,authMode:c},a,i.password);if((!f||{}.hasOwnProperty.call(i,e))&&(!f||!{}.hasOwnProperty.call(i,e))){var d=patch(clone(s),o);return"ExternalAuth"===i.authenticationMode?{action:t.action,authMode:d}:_defineProperty({action:t.action,authMode:d},a,i.password)}}})).filter((function(t){return!f.default(t)}))}function createCustomerMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$i(n,i,r,e)}))),a.push(t("references",(function(){return actionsMapReferences$2(n,i,r)}))),a.push(t("addresses",(function(){return actionsMapAddresses(n,i,r)}))),a.push(t("base",(function(){return actionsMapSetDefaultBase(n,i,r,e)}))),a.push(t("billingAddressIds",(function(){return actionsMapBillingAddresses(n,i,r)}))),a.push(t("shippingAddressIds",(function(){return actionsMapShippingAddresses(n,i,r)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),a.push(t("authenticationModes",(function(){return actionsMapAuthenticationModes(n,i,r)}))),c.default(a)}}var customers=function(t,e){return{buildActions:createBuildActions(diff,createCustomerMapActions(createMapActionGroup(t),e),copyEmptyArrayProps)}},z=[{action:"changeQuantity",key:"quantityOnStock",actionKey:"quantity"},{action:"setRestockableInDays",key:"restockableInDays"},{action:"setExpectedDelivery",key:"expectedDelivery"}],q=[{action:"setSupplyChannel",key:"supplyChannel"}];function actionsMapBase$h(t,e,n){return buildBaseAttributesActions({actions:z,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapReferences$1(t,e,n){return buildReferenceActions({actions:q,diff:t,oldObj:e,newObj:n})}function createInventoryMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$h(n,i,r,e)}))),a.push(t("references",(function(){return actionsMapReferences$1(n,i,r)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),c.default(a)}}var inventories=function(t,e){return{buildActions:createBuildActions(diff,createInventoryMapActions(createMapActionGroup(t),e))}};function extractMatchingPairs(t,e,n,r){var i,a,o,s;return t[e]&&(i=t[e][0],a=t[e][1],n&&n[i]&&(o=n[i]),r&&r[a]&&(s=r[a])),{oldObj:o,newObj:s}}var K=new RegExp(/^\d+$/),G=new RegExp(/^_\d+$/);function preProcessCollection(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,n,r){return e.refByIndex[String(r)]=n[t],e.refByIdentifier[n[t]]=String(r),e}),{refByIndex:{},refByIdentifier:{}})}function findMatchingPairs(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",r={},i=preProcessCollection(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n),a=i.refByIdentifier,o=i.refByIndex,s=preProcessCollection(e,n),c=s.refByIdentifier,u=s.refByIndex;return l.default(t,(function(t,e){if(K.test(e)){var n=u[e];r[e]=[a[n],e]}else if(G.test(e)){var i=e.substring(1),s=o[i];r[e]=[i,c[s]]}})),r}var U=new RegExp(/^\d+$/),W=new RegExp(/^_\d+$/),Z=[{action:"changeName",key:"name"},{action:"changeSlug",key:"slug"},{action:"setDescription",key:"description"},{action:"setSearchKeywords",key:"searchKeywords"},{action:"setKey",key:"key"},{action:"setPriceMode",key:"priceMode"}],J=[{action:"setAssetKey",key:"key",actionKey:"assetKey"},{action:"changeAssetName",key:"name"},{action:"setAssetDescription",key:"description"},{action:"setAssetTags",key:"tags"},{action:"setAssetSources",key:"sources"}],Q=[{action:"setMetaTitle",key:"metaTitle"},{action:"setMetaDescription",key:"metaDescription"},{action:"setMetaKeywords",key:"metaKeywords"}],X=[{action:"setTaxCategory",key:"taxCategory"},{action:"transitionState",key:"state"}],Y=function getIsAddAction(t,e){return U.test(t)&&Array.isArray(e)&&e.length},tt=function getIsUpdateAction(t,e){return U.test(t)&&Object.keys(e).length},et=function getIsRemoveAction(t,e){return W.test(t)&&0===Number(e[2])};function _buildSkuActions(t,e){if({}.hasOwnProperty.call(t,"sku")){var n=getDeltaValue(t.sku);return n||e.sku?{action:"setSku",variantId:e.id,sku:n||null}:null}return null}function _buildKeyActions(t,e){if({}.hasOwnProperty.call(t,"key")){var n=getDeltaValue(t.key);return n||e.key?{action:"setProductVariantKey",variantId:e.id,key:n||null}:null}return null}function _buildNewSetAttributeAction(t,e,n){var r=e&&e.name;if(r){var i={action:"setAttribute",variantId:t,name:r,value:e.value};return-1!==n.indexOf(r)&&delete(i=_objectSpread2(_objectSpread2({},i),{},{action:"setAttributeInAllVariants"})).variantId,i}}function _buildSetAttributeAction(t,e,n,r){if(n){var i={action:"setAttribute",variantId:e.id,name:n.name},a=e.attributes.find((function(t){return t.name===n.name}))||{};if(-1!==r.indexOf(n.name)&&delete(i=_objectSpread2(_objectSpread2({},i),{},{action:"setAttributeInAllVariants"})).variantId,Array.isArray(t))i.value=getDeltaValue(t,a.value);else if("string"===typeof t)i.value=getDeltaValue(t,a.value);else if(t.centAmount||t.currencyCode)i.value={centAmount:t.centAmount?getDeltaValue(t.centAmount):n.value.centAmount,currencyCode:t.currencyCode?getDeltaValue(t.currencyCode):n.value.currencyCode};else if(t.key)i.value=getDeltaValue(t.key);else if("object"===_typeof(t))if({}.hasOwnProperty.call(t,"_t")&&"a"===t._t)i=_objectSpread2(_objectSpread2({},i),{},{value:n.value});else{var o=Object.keys(t).reduce((function(e,n){var r=getDeltaValue(t[n],e[n]);return Object.assign(e,_defineProperty({},n,r))}),_objectSpread2({},a.value));i.value=o}return i}}function _buildVariantImagesAction(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=findMatchingPairs(t,e.images,n.images,"url");return l.default(t,(function(t,a){var o=extractMatchingPairs(i,a,e.images,n.images),s=o.oldObj,c=o.newObj;U.test(a)?Array.isArray(t)&&t.length?r.push({action:"addExternalImage",variantId:e.id,image:getDeltaValue(t)}):"object"===_typeof(t)&&({}.hasOwnProperty.call(t,"url")&&2===t.url.length?(r.push({action:"removeImage",variantId:e.id,imageUrl:s.url}),r.push({action:"addExternalImage",variantId:e.id,image:c})):!{}.hasOwnProperty.call(t,"label")||1!==t.label.length&&2!==t.label.length||r.push({action:"setImageLabel",variantId:e.id,imageUrl:s.url,label:getDeltaValue(t.label)})):W.test(a)&&Array.isArray(t)&&3===t.length&&(3===Number(t[2])?r.push({action:"moveImageToPosition",variantId:e.id,imageUrl:s.url,position:Number(t[1])}):0===Number(t[2])&&r.push({action:"removeImage",variantId:e.id,imageUrl:s.url}))})),r}function _buildVariantPricesAction(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],a=[],o=[],s=findMatchingPairs(t,e.prices,n.prices);return l.default(t,(function(t,c){var u=extractMatchingPairs(s,c,e.prices,n.prices),f=u.oldObj,l=u.newObj;if(Y(c,t)){var d=t.map((function(t){var e=_objectSpread2({},t);return!0!==r&&delete e.discounted,e}));i.push({action:"addPrice",variantId:e.id,price:getDeltaValue(d)})}else if(tt(c,t)){var h=_objectSpread2({},t);if(!0!==r&&delete h.discounted,Object.keys(h).length){var p=_objectSpread2({},l);!0!==r&&delete p.discounted,a.push({action:"changePrice",priceId:f.id,price:p})}}else et(c,t)&&o.push({action:"removePrice",priceId:f.id})})),[i,a,o]}function _buildVariantAttributesActions(t,e,n,r){var i=[];return t?(l.default(t,(function(t,a){if(U.test(a)){if(Array.isArray(t)){var o=_buildNewSetAttributeAction(e.id,getDeltaValue(t),r);o&&i.push(o)}else if(n.attributes){var s=_buildSetAttributeAction(t.value,e,n.attributes[a],r);s&&i.push(s)}}else if(W.test(a))if(Array.isArray(t)){if(3===t.length&&3===t[2])return;var c=e.id,u=getDeltaValue(t);u||(u=t[0]&&t[0].name?{name:t[0].name}:void 0);var f=_buildNewSetAttributeAction(c,u,r);f&&i.push(f)}else{var l=a.substring(1);if(n.attributes){var d=_buildSetAttributeAction(t.value,e,n.attributes[l],r);d&&i.push(d)}}})),i):i}function toAssetIdentifier(t){return t.id?{assetId:t.id}:{assetKey:t.key}}function toVariantIdentifier(t){var e=t.id,n=t.sku;return e?{variantId:e}:{sku:n}}function _buildVariantAssetsActions(t,e,n){var r=[],i=findMatchingPairs(t,e.assets,n.assets);return l.default(t,(function(t,a){var o=extractMatchingPairs(i,a,e.assets,n.assets),s=o.oldObj,c=o.newObj;if(Y(a,t))r.push(_objectSpread2(_objectSpread2({action:"addAsset",asset:getDeltaValue(t)},toVariantIdentifier(n)),{},{position:Number(a)}));else if(tt(a,t)){var u=buildBaseAttributesActions({actions:J,diff:t,oldObj:s,newObj:c}).map((function(t){return"setAssetKey"===t.action?_objectSpread2(_objectSpread2(_objectSpread2({},t),toVariantIdentifier(e)),{},{assetId:s.id}):_objectSpread2(_objectSpread2(_objectSpread2({},t),toVariantIdentifier(e)),toAssetIdentifier(s))}));if(r.push.apply(r,_toConsumableArray(u)),t.custom){var f=actionsMapCustom(t,c,s,_objectSpread2(_objectSpread2({actions:{setCustomType:"setAssetCustomType",setCustomField:"setAssetCustomField"}},toVariantIdentifier(e)),toAssetIdentifier(s)));r.push.apply(r,_toConsumableArray(f))}}else et(a,t)&&r.push(_objectSpread2(_objectSpread2({action:"removeAsset"},toAssetIdentifier(s)),toVariantIdentifier(e)))})),r}function actionsMapBase$g(t,e,n){return buildBaseAttributesActions({actions:Z,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapMeta(t,e,n){return buildBaseAttributesActions({actions:Q,diff:t,oldObj:e,newObj:n})}function actionsMapAddVariants(t,e,n){return createBuildArrayActions("variants",_defineProperty({},w,(function(t){return _objectSpread2(_objectSpread2({},t),{},{action:"addVariant"})})))(t,e,n)}function actionsMapRemoveVariants(t,e,n){return createBuildArrayActions("variants",_defineProperty({},I,(function(t){return{action:"removeVariant",id:t.id}})))(t,e,n)}function actionsMapReferences(t,e,n){return buildReferenceActions({actions:X,diff:t,oldObj:e,newObj:n})}function actionsMapCategories(t){var e=[];if(!t.categories)return e;var n=[],r=[];return l.default(t.categories,(function(t){if(Array.isArray(t)){var e={category:t[0]};3===t.length?3!==t[2]&&(e.action="removeFromCategory",r.push(e)):1===t.length&&(e.action="addToCategory",n.push(e))}})),r.concat(n)}function actionsMapCategoryOrderHints(t){return t.categoryOrderHints?Array.isArray(t.categoryOrderHints)?[]:Object.keys(t.categoryOrderHints).map((function(e){var n=t.categoryOrderHints[e],r={action:"setCategoryOrderHint",categoryId:e};return 1===n.length?r.orderHint=n[0]:2===n.length&&0!==n[1]&&(r.orderHint=n[1]),r})):[]}function actionsMapAssets(t,e,n,r){var i=[],a=t.variants;return a&&l.default(a,(function(t,a){var o=extractMatchingPairs(r,a,e.variants,n.variants),s=o.oldObj,c=o.newObj;if(t.assets&&(W.test(a)||U.test(a))){var u=_buildVariantAssetsActions(t.assets,s,c);i=i.concat(u)}})),i}function actionsMapAttributes(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[],o=t.variants;return o&&l.default(o,(function(t,o){var s=extractMatchingPairs(i,o,e.variants,n.variants),c=s.oldObj,u=s.newObj;if(U.test(o)&&!Array.isArray(t)){var f=_buildSkuActions(t,c),l=_buildKeyActions(t,c);f&&a.push(f),l&&a.push(l);var d=_buildVariantAttributesActions(t.attributes,c,u,r);a=a.concat(d)}})),d.default(a,(function(t,e){return t.action===e.action&&t.name===e.name&&t.variantId===e.variantId}))}function actionsMapImages(t,e,n,r){var i=[],a=t.variants;return a&&l.default(a,(function(t,a){var o=extractMatchingPairs(r,a,e.variants,n.variants),s=o.oldObj,c=o.newObj;if(W.test(a)||U.test(a)){var u=_buildVariantImagesAction(t.images,s,c);i=i.concat(u)}})),i}function actionsMapPrices(t,e,n,r,i){var a=[],o=[],s=[],c=t.variants;return c&&l.default(c,(function(t,c){var u=extractMatchingPairs(r,c,e.variants,n.variants),f=u.oldObj,l=u.newObj;if(W.test(c)||U.test(c)){var d=_slicedToArray(_buildVariantPricesAction(t.prices,f,l,i),3),h=d[0],p=d[1],y=d[2];a=a.concat(h),o=o.concat(p),s=s.concat(y)}})),o.concat(s).concat(a)}function actionsMapPricesCustom(t,e,n,r){var i=[],a=t.variants;return a&&l.default(a,(function(t,a){var o=extractMatchingPairs(r,a,e.variants,n.variants),s=o.oldObj,c=o.newObj;if(t&&t.prices&&(W.test(a)||U.test(a))){var u=findMatchingPairs(t.prices,s.prices,c.prices);l.default(t.prices,(function(t,e){var n=extractMatchingPairs(u,e,s.prices,c.prices),r=n.oldObj,a=n.newObj;if(t.custom&&(W.test(e)||U.test(e))){var o=actionsMapCustom(t,a,r,{actions:{setCustomType:"setProductPriceCustomType",setCustomField:"setProductPriceCustomField"},priceId:r.id});i=i.concat(o)}}))}})),i}function actionsMapMasterVariant(t,e){var n=function createChangeMasterVariantAction(t){return{action:"changeMasterVariant",variantId:t}},r=function extractMasterVariantId(t){var e=Array.isArray(t.variants)?t.variants:[];return e[0]?e[0].id:void 0},i=r(e),a=r(t);return i&&a!==i?[n(i)]:[]}function createProductMapActions(t,e){return function doMapActions(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],s=a.sameForAllAttributeNames,u=a.enableDiscounted,f=r.publish,l=r.staged,d=findMatchingPairs(n.variants,i.variants,r.variants);return o.push(t("attributes",(function(){return actionsMapAttributes(n,i,r,s||[],d)}))),o.push(t("variants",(function(){return actionsMapAddVariants(n,i,r)}))),o.push(actionsMapMasterVariant(i,r)),o.push(t("variants",(function(){return actionsMapRemoveVariants(n,i,r)}))),o.push(t("base",(function(){return actionsMapBase$g(n,i,r,e)}))),o.push(t("meta",(function(){return actionsMapMeta(n,i,r)}))),o.push(t("references",(function(){return actionsMapReferences(n,i,r)}))),o.push(t("images",(function(){return actionsMapImages(n,i,r,d)}))),o.push(t("pricesCustom",(function(){return actionsMapPricesCustom(n,i,r,d)}))),o.push(t("prices",(function(){return actionsMapPrices(n,i,r,d,u)}))),o.push(t("categories",(function(){return actionsMapCategories(n)}))),o.push(t("categories",(function(){return actionsMapCategoryOrderHints(n)}))),o.push(t("assets",(function(){return actionsMapAssets(n,i,r,d)}))),!0===f||!1===l?c.default(o).map((function(t){return _objectSpread2(_objectSpread2({},t),{},{staged:!1})})):c.default(o)}}function moveMasterVariantsIntoVariants(t,e){var n=_slicedToArray(copyEmptyArrayProps(t,e),2),r=n[0],i=n[1],a=function move(t){return _objectSpread2(_objectSpread2({},t),{},{masterVariant:void 0,variants:[t.masterVariant].concat(_toConsumableArray(t.variants||[]))})},o=function hasMasterVariant(t){return t&&t.masterVariant};return[o(r)?a(r):r,o(i)?a(i):i]}var products=function(t,e){return{buildActions:createBuildActions(diff,createProductMapActions(createMapActionGroup(t),e),moveMasterVariantsIntoVariants)}},nt=new RegExp(/^\d+$/),rt=new RegExp(/^_\d+$/),it=function isAddAction(t,e){return nt.test(t)&&Array.isArray(e)&&e.length},at=function isRemoveAction(t,e){return rt.test(t)&&0===Number(e[2])},ot=[{action:"changeOrderState",key:"orderState"},{action:"changePaymentState",key:"paymentState"},{action:"changeShipmentState",key:"shipmentState"}];function actionsMapBase$f(t,e,n){return buildBaseAttributesActions({actions:ot,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapDeliveries(t,e,n){var r=t.shippingInfo;return r?createBuildArrayActions("deliveries",_defineProperty({},w,(function(t){return{action:"addDelivery",items:t.items,parcels:t.parcels}})))(r,e.shippingInfo,n.shippingInfo):[]}function _buildDeliveryParcelsAction(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=[],a=findMatchingPairs(t,e.parcels,n.parcels);return l.default(t,(function(t,o){var s=extractMatchingPairs(a,o,e.parcels,n.parcels).oldObj;it(o,t)?r.push(_objectSpread2({action:"addParcelToDelivery",deliveryId:e.id},getDeltaValue(t))):at(o,t)&&i.push({action:"removeParcelFromDelivery",parcelId:s.id})})),[r,i]}function _buildDeliveryItemsAction(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return t&&Object.keys(t).length>0&&n.push({action:"setDeliveryItems",deliveryId:e.id,deliveryKey:e.key,items:e.items}),[n]}function actionsMapParcels(t,e,n,r){var i=t.shippingInfo;if(!i)return[];var a=i.deliveries;if(!a)return[];var o=[],s=[];return a&&l.default(a,(function(t,i){var a=extractMatchingPairs(r,i,e.shippingInfo.deliveries,n.shippingInfo.deliveries),c=a.oldObj,u=a.newObj;if(rt.test(i)||nt.test(i)){var f=_slicedToArray(_buildDeliveryParcelsAction(t.parcels,c,u),2),l=f[0],d=f[1];o=o.concat(l),s=s.concat(d)}})),s.concat(o)}function actionsMapDeliveryItems(t,e,n,r){var i=t.shippingInfo;if(!i)return[];var a=i.deliveries;if(!a)return[];var o=[];return l.default(a,(function(t,i){var a=extractMatchingPairs(r,i,e.shippingInfo.deliveries,n.shippingInfo.deliveries).newObj;if(rt.test(i)||nt.test(i)){var s=_slicedToArray(_buildDeliveryItemsAction(t.items,a),1)[0];o=o.concat(s)}})),o}function actionsMapReturnsInfo(t,e,n){var r,i=t.returnInfo;return i?createBuildArrayActions("returnInfo",(_defineProperty(r={},w,(function(t){return t.items?[_objectSpread2({action:"addReturnInfo"},t)]:[]})),_defineProperty(r,P,(function(t,e,n){var r=i[n].items,a=void 0===r?{}:r;return 0===Object.keys(a).length?[]:Object.keys(a).reduce((function(t,n){var r=e.items[n];return a[n].shipmentState&&t.push({action:"setReturnShipmentState",returnItemId:r.id,shipmentState:r.shipmentState}),a[n].paymentState&&t.push({action:"setReturnPaymentState",returnItemId:r.id,paymentState:r.paymentState}),t}),[])})),r))(t,e,n):[]}function createOrderMapActions(t,e){return function doMapActions(n,r,i){var a,o=[];return n.shippingInfo&&n.shippingInfo.deliveries&&(a=findMatchingPairs(n.shippingInfo.deliveries,i.shippingInfo.deliveries,r.shippingInfo.deliveries)),o.push(t("base",(function(){return actionsMapBase$f(n,i,r,e)}))),o.push(t("deliveries",(function(){return actionsMapDeliveries(n,i,r)}))),o.push(t("parcels",(function(){return actionsMapParcels(n,i,r,a)}))),o.push(t("items",(function(){return actionsMapDeliveryItems(n,i,r,a)}))),o.push(c.default(t("returnInfo",(function(){return actionsMapReturnsInfo(n,i,r)})))),o.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),c.default(o)}}var orders=function(t,e){return{buildActions:createBuildActions(diff,createOrderMapActions(createMapActionGroup(t),e))}},st=[{action:"changeIsActive",key:"isActive"},{action:"changeName",key:"name"},{action:"changePredicate",key:"predicate"},{action:"changeSortOrder",key:"sortOrder"},{action:"changeValue",key:"value"},{action:"setDescription",key:"description"},{action:"setValidFrom",key:"validFrom"},{action:"setValidUntil",key:"validUntil"},{action:"setKey",key:"key"}];function actionsMapBase$e(t,e,n){return buildBaseAttributesActions({actions:st,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}var ct=["setValidFrom","setValidUntil"],ut=function isValidityActions(t){return ct.includes(t)};function combineValidityActions(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=_slicedToArray(t.filter((function(t){return ut(t.action)})),2),n=e[0],r=e[1];return n&&r?[].concat(_toConsumableArray(t.filter((function(t){return!ut(t.action)}))),[{action:"setValidFromAndUntil",validFrom:n.validFrom,validUntil:r.validUntil}]):t}function createProductDiscountsMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$e(n,i,r,e)}))),combineValidityActions(c.default(a))}}var productDiscounts=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createProductDiscountsMapActions(createMapActionGroup(t),e))}},ft=[{action:"changeIsActive",key:"isActive"},{action:"setName",key:"name"},{action:"setDescription",key:"description"},{action:"setCartPredicate",key:"cartPredicate"},{action:"setMaxApplications",key:"maxApplications"},{action:"setMaxApplicationsPerCustomer",key:"maxApplicationsPerCustomer"},{action:"changeCartDiscounts",key:"cartDiscounts"},{action:"setValidFrom",key:"validFrom"},{action:"setValidUntil",key:"validUntil"},{action:"changeGroups",key:"groups"}];function actionsMapBase$d(t,e,n){return buildBaseAttributesActions({actions:ft,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createDiscountCodesMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$d(n,i,r,e)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),combineValidityActions(c.default(a))}}var discountCodes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createDiscountCodesMapActions(createMapActionGroup(t),e))}},lt=[{action:"changeName",key:"name"},{action:"setKey",key:"key"}];function actionsMapBase$c(t,e,n){return buildBaseAttributesActions({actions:lt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createCustomerGroupMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$c(n,i,r,e)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),c.default(a)}}var customerGroup=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createCustomerGroupMapActions(createMapActionGroup(t),e))}},dt=[{action:"changeIsActive",key:"isActive"},{action:"changeName",key:"name"},{action:"changeCartPredicate",key:"cartPredicate"},{action:"changeSortOrder",key:"sortOrder"},{action:"changeValue",key:"value"},{action:"changeRequiresDiscountCode",key:"requiresDiscountCode"},{action:"changeTarget",key:"target"},{action:"setDescription",key:"description"},{action:"setValidFrom",key:"validFrom"},{action:"setValidUntil",key:"validUntil"},{action:"changeStackingMode",key:"stackingMode"},{action:"setKey",key:"key"}];function actionsMapBase$b(t,e,n){return buildBaseAttributesActions({actions:dt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createCartDiscountsMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$b(n,i,r,e)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),combineValidityActions(c.default(a))}}var cartDiscounts=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createCartDiscountsMapActions(createMapActionGroup(t),e))}},ht=[{action:"changeName",key:"name"},{action:"setKey",key:"key"},{action:"setDescription",key:"description"}];function actionsMapBase$a(t,e,n){return buildBaseAttributesActions({actions:ht,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapRates(t,e,n){var r;return createBuildArrayActions("rates",(_defineProperty(r={},w,(function(t){return{action:"addTaxRate",taxRate:t}})),_defineProperty(r,I,(function(t){return{action:"removeTaxRate",taxRateId:t.id}})),_defineProperty(r,P,(function(t,e){return{action:"replaceTaxRate",taxRateId:t.id===e.id?t.id:e.id,taxRate:e}})),r))(t,e,n)}function createTaxCategoriesMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$a(n,i,r,e)}))),a.push(t("rates",(function(){return actionsMapRates(n,i,r)}))),c.default(a)}}var taxCategories=function(t,e){return{buildActions:createBuildActions(diff,createTaxCategoriesMapActions(createMapActionGroup(t),e))}},pt=[{action:"changeName",key:"name"},{action:"setDescription",key:"description"},{action:"setKey",key:"key"}],yt=function hasLocation(t,e){return t.some((function(t){return t.country===e.country}))};function actionsMapBase$9(t,e,n){return buildBaseAttributesActions({actions:pt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapLocations(t,e,n){var r;return createBuildArrayActions("locations",(_defineProperty(r={},w,(function(t){return{action:"addLocation",location:t}})),_defineProperty(r,I,(function(t){return yt(n.locations,t)?null:{action:"removeLocation",location:t}})),_defineProperty(r,P,(function(t,r){var i=[];return yt(n.locations,t)||i.push({action:"removeLocation",location:t}),yt(e.locations,r)||i.push({action:"addLocation",location:r}),i})),r))(t,e,n)}function createZonesMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$9(n,i,r,e)}))),a.push(c.default(t("locations",(function(){return actionsMapLocations(n,i,r)})))),c.default(a)}}var zones=function(t,e){return{buildActions:createBuildActions(diff,createZonesMapActions(createMapActionGroup(t),e))}},vt=[{action:"setKey",key:"key"},{action:"changeName",key:"name"},{action:"setLocalizedName",key:"localizedName"},{action:"setDescription",key:"description"},{action:"setLocalizedDescription",key:"localizedDescription"},{action:"changeIsDefault",key:"isDefault"},{action:"setPredicate",key:"predicate"},{action:"changeTaxCategory",key:"taxCategory"}];function actionsMapBase$8(t,e,n){return buildBaseAttributesActions({actions:vt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}var gt=function addShippingRates(t){return t.shippingRates?t.shippingRates.map((function(e){return{action:"addShippingRate",zone:t.zone,shippingRate:e}})):[]};function actionsMapZoneRatesShippingRates(t,e,n){var r;return createBuildArrayActions("shippingRates",(_defineProperty(r={},w,(function(t){return{action:"addShippingRate",zone:n.zone,shippingRate:t}})),_defineProperty(r,I,(function(t){return{action:"removeShippingRate",zone:e.zone,shippingRate:t}})),_defineProperty(r,P,(function(t,r){return[{action:"removeShippingRate",zone:e.zone,shippingRate:t},{action:"addShippingRate",zone:n.zone,shippingRate:r}]})),r))(t,e,n)}function actionsMapZoneRates(t,e,n){var r;return createBuildArrayActions("zoneRates",(_defineProperty(r={},w,(function(t){return[{action:"addZone",zone:t.zone}].concat(_toConsumableArray(gt(t)))})),_defineProperty(r,I,(function(t){return{action:"removeZone",zone:t.zone}})),_defineProperty(r,P,(function(e,n){var r=!1,i=Object.keys(t.zoneRates).reduce((function(i,a){return t.zoneRates[a].zone&&(r=!0),t.zoneRates[a].shippingRates?[].concat(_toConsumableArray(i),_toConsumableArray(actionsMapZoneRatesShippingRates(t.zoneRates[a],e,n))):i}),[]);return c.default(r?[].concat(_toConsumableArray(i),[{action:"removeZone",zone:e.zone},{action:"addZone",zone:n.zone}]):i)})),r))(t,e,n)}function createShippingMethodsMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$8(n,i,r,e)}))),a.push(c.default(t("zoneRates",(function(){return actionsMapZoneRates(n,i,r)})))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),c.default(a)}}var shippingMethods=function(t,e){return{buildActions:createBuildActions(diff,createShippingMethodsMapActions(createMapActionGroup(t),e))}},mt="function"===typeof WeakSet,bt=Object.keys;function sameValueZeroEqual(t,e){return t===e||t!==t&&e!==e}function isPlainObject(t){return t.constructor===Object||null==t.constructor}function isPromiseLike(t){return!!t&&"function"===typeof t.then}function isReactElement(t){return!(!t||!t.$$typeof)}function getNewCacheFallback(){var t=[];return{add:function add(e){t.push(e)},has:function has(e){return-1!==t.indexOf(e)}}}var _t=mt?function _getNewCache(){return new WeakSet}:getNewCacheFallback;function createCircularEqualCreator(t){return function createCircularEqual(e){var n=t||e;return function circularEqual(t,e,r){void 0===r&&(r=_t());var i=!!t&&"object"===_typeof(t),a=!!e&&"object"===_typeof(e);if(i||a){var o=i&&r.has(t),s=a&&r.has(e);if(o||s)return o&&s;i&&r.add(t),a&&r.add(e)}return n(t,e,r)}}}function areArraysEqual(t,e,n,r){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n(t[i],e[i],r))return!1;return!0}function areMapsEqual(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var a={};t.forEach((function(t,o){if(i){var s=!1,c=0;e.forEach((function(e,i){s||a[c]||(s=n(o,i,r)&&n(t,e,r))&&(a[c]=!0),c++})),i=s}}))}return i}var At="_owner",jt=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function areObjectsEqual(t,e,n,r){var i=bt(t),a=i.length;if(bt(e).length!==a)return!1;if(a)for(var o=void 0;a-- >0;){if((o=i[a])===At){var s=isReactElement(t),c=isReactElement(e);if((s||c)&&s!==c)return!1}if(!jt(e,o)||!n(t[o],e[o],r))return!1}return!0}function areRegExpsEqual(t,e){return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.unicode===e.unicode&&t.sticky===e.sticky&&t.lastIndex===e.lastIndex}function areSetsEqual(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var a={};t.forEach((function(t){if(i){var o=!1,s=0;e.forEach((function(e){o||a[s]||(o=n(t,e,r))&&(a[s]=!0),s++})),i=o}}))}return i}var kt="function"===typeof Map,Ot="function"===typeof Set;function createComparator(t){var e="function"===typeof t?t(comparator):comparator;function comparator(t,n,r){if(t===n)return!0;if(t&&n&&"object"===_typeof(t)&&"object"===_typeof(n)){if(isPlainObject(t)&&isPlainObject(n))return areObjectsEqual(t,n,e,r);var i=Array.isArray(t),a=Array.isArray(n);return i||a?i===a&&areArraysEqual(t,n,e,r):(i=t instanceof Date,a=n instanceof Date,i||a?i===a&&sameValueZeroEqual(t.getTime(),n.getTime()):(i=t instanceof RegExp,a=n instanceof RegExp,i||a?i===a&&areRegExpsEqual(t,n):isPromiseLike(t)||isPromiseLike(n)?t===n:kt&&(i=t instanceof Map,a=n instanceof Map,i||a)?i===a&&areMapsEqual(t,n,e,r):Ot&&(i=t instanceof Set,a=n instanceof Set,i||a)?i===a&&areSetsEqual(t,n,e,r):areObjectsEqual(t,n,e,r)))}return t!==t&&n!==n}return comparator}var Mt=createComparator();createComparator((function(){return sameValueZeroEqual})),createComparator(createCircularEqualCreator()),createComparator(createCircularEqualCreator(sameValueZeroEqual));var Ct=[{action:"changeName",key:"name"},{action:"setKey",key:"key"},{action:"changeDescription",key:"description"}];function actionsMapBase$7(t,e,n){return t?buildBaseAttributesActions({diff:t,actions:Ct,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString}):[]}var xt=function generateBaseFieldsUpdateActions(t,e,n){var r=D([void 0,null,""]);return Object.entries(n).reduce((function(n,i){var a=_slicedToArray(i,2),o=a[0],s=a[1];if(r(t[o])&&r(e[o]))return n;if(!r(t[o])&&r(e[o]))return[].concat(_toConsumableArray(n),[s]);if(!Mt(t[o],e[o]))switch(o){case"key":return[].concat(_toConsumableArray(n),[{action:s.action,attributeName:s.attributeName,key:t[o],newKey:e[o]}]);case"attributeConstraint":case"inputHint":return[].concat(_toConsumableArray(n),[{action:s.action,attributeName:s.attributeName,newValue:e[o]}]);default:return[].concat(_toConsumableArray(n),[_defineProperty({action:s.action,attributeName:s.attributeName},o,e[o])])}return n}),[])},St=function generateUpdateActionsForAttributeDefinitions(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.filter((function(t){return t.previous&&!t.next})),n=t.filter((function(t){return t.previous&&t.next})),r=t.filter((function(t){return!t.previous&&t.next}));return[].concat(_toConsumableArray(e.map((function(t){return{action:"removeAttributeDefinition",name:t.previous.name}}))),_toConsumableArray(c.default(n.map((function(t){return xt(t.previous,t.next,{label:{action:"changeLabel",attributeName:t.previous.name},inputTip:{action:"setInputTip",attributeName:t.previous.name},inputHint:{action:"changeInputHint",attributeName:t.previous.name},isSearchable:{action:"changeIsSearchable",attributeName:t.previous.name},attributeConstraint:{action:"changeAttributeConstraint",attributeName:t.previous.name}})})))),_toConsumableArray(r.map((function(t){return{action:"addAttributeDefinition",attribute:t.next}}))))},wt=function generateUpdateActionsForAttributeEnumValues(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.filter((function(t){return t.previous&&!t.next})),n=t.filter((function(t){return t.next&&t.previous})),r=t.filter((function(t){return!t.previous&&t.next}));return[].concat(_toConsumableArray(Object.values(e.reduce((function(t,e){var n=t[e.hint.attributeName]||{keys:[],attributeName:e.hint.attributeName,action:"removeEnumValues"};return _objectSpread2(_objectSpread2({},t),{},_defineProperty({},e.hint.attributeName,_objectSpread2(_objectSpread2({},n),{},{keys:[].concat(_toConsumableArray(n.keys),[e.previous.key])})))}),{}))),_toConsumableArray(c.default(n.map((function(t){var e=xt(t.previous,t.next,{key:{action:"changeEnumKey",attributeName:t.hint.attributeName}});return Mt(t.previous.label,t.next.label)?e:t.hint.isLocalized?[].concat(_toConsumableArray(e),[{action:"changeLocalizedEnumValueLabel",attributeName:t.hint.attributeName,newValue:t.next}]):[].concat(_toConsumableArray(e),[{action:"changePlainEnumValueLabel",attributeName:t.hint.attributeName,newValue:t.next}])})))),_toConsumableArray(r.map((function(t){return{action:t.hint.isLocalized?"addLocalizedEnumValue":"addPlainEnumValue",attributeName:t.hint.attributeName,value:t.next}}))))},It=function generateChangeAttributeOrderAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length||!e.length)return null;var r=e.map((function(t){return t.name})),i=n.filter((function(t){return"removeAttributeDefinition"===t.action})).map((function(t){return t.name})),a=n.filter((function(t){return"addAttributeDefinition"===t.action})).map((function(t){return t.attribute.name})),o=t.map((function(t){return t.name})).filter((function(t){return!i.includes(t)})).concat(a);return r.join(",")!==o.join(",")?{action:"changeAttributeOrderByName",attributeNames:r}:null},Pt=function actionsMapForHints(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=[].concat(_toConsumableArray(St(t.attributeDefinitions)),_toConsumableArray(wt(t.attributeEnumValues))),i=It(e.attributes,n.attributes,r);return i&&r.push(i),r};function createProductTypeMapActions(t,e){return function doMapActions(n,r,i,a){return c.default([t("base",(function(){return actionsMapBase$7(n,i,r,e)})),Pt(a.nestedValuesChanges,i,r)])}}var productTypes=function(t,e){return{buildActions:createBuildActions(diff,createProductTypeMapActions(createMapActionGroup(t),e),null,{withHints:!0})}},Et=[{action:"changeKey",key:"key"},{action:"setName",key:"name"},{action:"setDescription",key:"description"},{action:"changeType",key:"type"},{action:"changeInitial",key:"initial"},{action:"setTransitions",key:"transitions"}];function actionsMapBase$6(t,e,n){return buildBaseAttributesActions({actions:Et,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapRoles(t,e,n){var r;return createBuildArrayActions("roles",(_defineProperty(r={},w,(function(t){return{action:"addRoles",roles:t}})),_defineProperty(r,I,(function(t){return{action:"removeRoles",roles:t}})),r))(t,e,n)}function groupRoleActions(t){var e=_slicedToArray(t,1)[0],n=[],r=[];return e.forEach((function(t){"removeRoles"===t.action&&r.push(t.roles),"addRoles"===t.action&&n.push(t.roles)})),[{action:"removeRoles",roles:r},{action:"addRoles",roles:n}].filter((function(t){return t.roles.length}))}function createStatesMapActions(t,e){return function doMapActions(n,r,i){var a=[],o=[];return a.push(t("base",(function(){return actionsMapBase$6(n,i,r,e)}))),o.push(t("roles",(function(){return actionsMapRoles(n,i,r)}))),c.default([].concat(a,_toConsumableArray(groupRoleActions(o))))}}var states=function(t,e){return{buildActions:createBuildActions(diff,createStatesMapActions(createMapActionGroup(t),e))}},Dt=[{action:"changeKey",key:"key"},{action:"changeName",key:"name"},{action:"changeDescription",key:"description"},{action:"setAddress",key:"address"},{action:"setGeoLocation",key:"geoLocation"},{action:"setRoles",key:"roles"}];function actionsMapBase$5(t,e,n){return buildBaseAttributesActions({actions:Dt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createChannelsMapActions$1(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$5(n,i,r,e)}))),a.push(t("custom",(function(){return actionsMapCustom(n,r,i)}))),c.default(a)}}var channels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createChannelsMapActions$1(createMapActionGroup(t),e))}},Rt=new RegExp(/^\d+$/),Ft=new RegExp(/^_\d+$/),Bt=function getIsChangedOperation(t){return Rt.test(t)},Tt=function getIsRemovedOperation(t){return Ft.test(t)},Nt=[{action:"changeKey",key:"key"},{action:"changeName",key:"name"},{action:"setDescription",key:"description"}];function actionsMapBase$4(t,e,n){return buildBaseAttributesActions({actions:Nt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function actionsMapEnums(t,e,n,r,i){var a,o="Enum"===e?"addEnumValue":"addLocalizedEnumValue",s="Enum"===e?"changeEnumValueLabel":"changeLocalizedEnumValueLabel",f="Enum"===e?"changeEnumValueOrder":"changeLocalizedEnumValueOrder",l=createBuildArrayActions("values",(_defineProperty(a={},w,(function(e){return{fieldName:t,action:o,value:e}})),_defineProperty(a,P,(function(e,n){var a=[];if(i.values.find((function(t){return t.key===e.key}))){var c=e.key!==n.key,l=r.values.find((function(t){return t.key===n.key})),d=u.default(l.label,n.label);c&&a.push({fieldName:t,action:f,value:n}),d||a.push({fieldName:t,action:s,value:n})}else a.push({fieldName:t,action:o,value:n});return a})),a)),d=[],h=[];return c.default(l(n,r,i)).forEach((function(t){t.action===f?h=i.values.map((function(t){return t.key})):d.push(t)})),[].concat(d,_toConsumableArray(h.length>0?[{fieldName:t,action:f,keys:h}]:[]))}function actionsMapFieldDefinitions(t,e,n,r){var i=[];return l.default(t,(function(t,a){var o,s=extractMatchingPairs(r,a,e,n);if(Bt(a))if(Array.isArray(t)){var c=getDeltaValue(t);c.name&&i.push({action:"addFieldDefinition",fieldDefinition:c})}else t.label?i.push({action:"changeLabel",label:s.newObj.label,fieldName:s.oldObj.name}):t.inputHint?i.push({action:"changeInputHint",inputHint:s.newObj.inputHint,fieldName:s.oldObj.name}):null!==t&&void 0!==t&&null!==(o=t.type)&&void 0!==o&&o.values&&i.push.apply(i,_toConsumableArray(actionsMapEnums(s.oldObj.name,s.oldObj.type.name,t.type,s.oldObj.type,s.newObj.type)));else Tt(a)&&Array.isArray(t)&&(3===t.length&&3===t[2]?i.push({action:"changeFieldDefinitionOrder",fieldNames:n.map((function(t){return t.name}))}):void 0===getDeltaValue(t)&&t[0].name&&i.push({action:"removeFieldDefinition",fieldName:t[0].name}))})),h.default(i,(function(t){return"removeFieldDefinition"!==t.action}))}function createTypeMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$4(n,i,r,e)})),t("fieldDefinitions",(function(){return actionsMapFieldDefinitions(n.fieldDefinitions,i.fieldDefinitions,r.fieldDefinitions,findMatchingPairs(n.fieldDefinitions,i.fieldDefinitions,r.fieldDefinitions,"name"))}))),c.default(a)}}var types=function(t,e){return{buildActions:createBuildActions(diff,createTypeMapActions(createMapActionGroup(t),e))}},Lt=[{action:"changeName",key:"name"},{action:"changeCurrencies",key:"currencies"},{action:"changeCountries",key:"countries"},{action:"changeLanguages",key:"languages"},{action:"changeMessagesConfiguration",key:"messagesConfiguration"},{action:"setShippingRateInputType",key:"shippingRateInputType"}];function actionsMapBase$3(t,e,n){return buildBaseAttributesActions({actions:Lt,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createChannelsMapActions(t,e){return function doMapActions(n,r,i){var a=[];return a.push(t("base",(function(){return actionsMapBase$3(n,i,r,e)}))),c.default(a)}}var projects=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{buildActions:createBuildActions(diff,createChannelsMapActions(createMapActionGroup(t),e))}},Vt=[{action:"setName",key:"name"},{action:"setLanguages",key:"languages"},{action:"setDistributionChannels",key:"distributionChannels"},{action:"setSupplyChannels",key:"supplyChannels"}];function actionsMapBase$2(t,e,n){return buildBaseAttributesActions({actions:Vt,diff:t,oldObj:e,newObj:n})}function createStoresMapActions(t){return function doMapActions(e,n,r){var i=[];return i.push(t("base",(function(){return actionsMapBase$2(e,r,n)}))),i.push(t("custom",(function(){return actionsMapCustom(e,n,r)}))),c.default(i)}}var stores=function(t){return{buildActions:createBuildActions(diff,createStoresMapActions(createMapActionGroup(t)),null)}},$t=[{action:"changeName",key:"name"},{action:"setKey",key:"key"}];function actionsMapBase$1(t,e,n){return buildBaseAttributesActions({actions:$t,diff:t,oldObj:e,newObj:n})}function createProductSelectionsMapActions(t){return function doMapActions(e,n,r){var i=[];return i.push(t("base",(function(){return actionsMapBase$1(e,r,n)}))),i.push(t("custom",(function(){return actionsMapCustom(e,n,r)}))),c.default(i)}}var productSelections=function(t){return{buildActions:createBuildActions(diff,createProductSelectionsMapActions(createMapActionGroup(t)),null)}},Ht=[{action:"changeValue",key:"value"},{action:"setDiscountedPrice",key:"discounted"},{action:"setPriceTiers",key:"tiers"},{action:"setKey",key:"key"},{action:"setValidFrom",key:"validFrom"},{action:"setValidUntil",key:"validUntil"},{action:"changeActive",key:"active"}];function actionsMapBase(t,e,n){return buildBaseAttributesActions({actions:Ht,diff:t,oldObj:e,newObj:n,shouldOmitEmptyString:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).shouldOmitEmptyString})}function createPriceMapActions(t,e){return function doMapActions(n,r,i){var a=t("base",(function(){return actionsMapBase(n,i,r,e)})),o=t("custom",(function(){return actionsMapCustom(n,r,i)}));return combineValidityActions([].concat(_toConsumableArray(a),_toConsumableArray(o)))}}var prices=function(t,e){return{buildActions:createBuildActions(diff,createPriceMapActions(createMapActionGroup(t),e))}};t.createSyncCartDiscounts=cartDiscounts,t.createSyncCategories=categories,t.createSyncChannels=channels,t.createSyncCustomerGroup=customerGroup,t.createSyncCustomers=customers,t.createSyncDiscountCodes=discountCodes,t.createSyncInventories=inventories,t.createSyncOrders=orders,t.createSyncProductDiscounts=productDiscounts,t.createSyncProductSelections=productSelections,t.createSyncProductTypes=productTypes,t.createSyncProducts=products,t.createSyncProjects=projects,t.createSyncShippingMethods=shippingMethods,t.createSyncStandalonePrices=prices,t.createSyncStates=states,t.createSyncStores=stores,t.createSyncTaxCategories=taxCategories,t.createSyncTypes=types,t.createSyncZones=zones,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("./node_modules/lodash.flatten/index.js"),n("./node_modules/lodash.isequal/index.js"),n("./node_modules/lodash.isnil/index.js"),n("./node_modules/lodash.foreach/index.js"),n("./node_modules/lodash.uniqwith/index.js"),n("./node_modules/lodash.sortby/index.js"))},"./node_modules/jsondiffpatch/dist/empty.js":()=>{},"./node_modules/jsondiffpatch/dist/jsondiffpatch.umd.js":function(t,e,n){!function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),i=function get(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:get(i,e,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},inherits=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},a=function(){function sliceIterator(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return sliceIterator(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},o=function(){function Processor(t){classCallCheck(this,Processor),this.selfOptions=t||{},this.pipes={}}return r(Processor,[{key:"options",value:function options(t){return t&&(this.selfOptions=t),this.selfOptions}},{key:"pipe",value:function pipe(t,e){var pipe=e;if("string"===typeof t){if("undefined"===typeof pipe)return this.pipes[t];this.pipes[t]=pipe}if(t&&t.name){if(pipe=t,pipe.processor===this)return pipe;this.pipes[pipe.name]=pipe}return pipe.processor=this,pipe}},{key:"process",value:function process(t,e){var n=t;n.options=this.options();for(var r=e||t.pipe||"default",i=void 0,a=void 0;r;)"undefined"!==typeof n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"===typeof r&&(r=this.pipe(r)),r.process(n),a=n,i=r,r=null,n&&n.next&&(n=n.next,r=a.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0}}]),Processor}(),s=function(){function Pipe(t){classCallCheck(this,Pipe),this.name=t,this.filters=[]}return r(Pipe,[{key:"process",value:function process(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,r=this.filters.length,i=t,a=0;a<r;a++){var o=this.filters[a];if(e&&this.log("filter: "+o.filterName),o(i),"object"===("undefined"===typeof i?"undefined":n(i))&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}},{key:"log",value:function log(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)}},{key:"append",value:function append(){var t;return(t=this.filters).push.apply(t,arguments),this}},{key:"prepend",value:function prepend(){var t;return(t=this.filters).unshift.apply(t,arguments),this}},{key:"indexOf",value:function indexOf(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++)if(this.filters[e].filterName===t)return e;throw new Error("filter not found: "+t)}},{key:"list",value:function list(){return this.filters.map((function(t){return t.filterName}))}},{key:"after",value:function after(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function before(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function replace(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function remove(t){var e=this.indexOf(t);return this.filters.splice(e,1),this}},{key:"clear",value:function clear(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function shouldHaveResult(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null}}]),Pipe}(),c=function(){function Context(){classCallCheck(this,Context)}return r(Context,[{key:"setResult",value:function setResult(t){return this.result=t,this.hasResult=!0,this}},{key:"exit",value:function exit(){return this.exiting=!0,this}},{key:"switchTo",value:function switchTo(t,e){return"string"===typeof t||t instanceof s?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this}},{key:"push",value:function push(t,e){return t.parent=this,"undefined"!==typeof e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this}}]),Context}(),u="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array};function cloneRegExp(t){var e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}function clone(t){if("object"!==("undefined"===typeof t?"undefined":n(t)))return t;if(null===t)return null;if(u(t))return t.map(clone);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return cloneRegExp(t);var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=clone(t[r]));return e}var f=function(t){function DiffContext(t,e){classCallCheck(this,DiffContext);var n=possibleConstructorReturn(this,(DiffContext.__proto__||Object.getPrototypeOf(DiffContext)).call(this));return n.left=t,n.right=e,n.pipe="diff",n}return inherits(DiffContext,t),r(DiffContext,[{key:"setResult",value:function setResult(t){if(this.options.cloneDiffValues&&"object"===("undefined"===typeof t?"undefined":n(t))){var e="function"===typeof this.options.cloneDiffValues?this.options.cloneDiffValues:clone;"object"===n(t[0])&&(t[0]=e(t[0])),"object"===n(t[1])&&(t[1]=e(t[1]))}return c.prototype.setResult.apply(this,arguments)}}]),DiffContext}(c),l=function(t){function PatchContext(t,e){classCallCheck(this,PatchContext);var n=possibleConstructorReturn(this,(PatchContext.__proto__||Object.getPrototypeOf(PatchContext)).call(this));return n.left=t,n.delta=e,n.pipe="patch",n}return inherits(PatchContext,t),PatchContext}(c),d=function(t){function ReverseContext(t){classCallCheck(this,ReverseContext);var e=possibleConstructorReturn(this,(ReverseContext.__proto__||Object.getPrototypeOf(ReverseContext)).call(this));return e.delta=t,e.pipe="reverse",e}return inherits(ReverseContext,t),ReverseContext}(c),h="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},p=function trivialMatchesDiffFilter(t){if(t.left!==t.right)if("undefined"!==typeof t.left)if("undefined"!==typeof t.right){if("function"===typeof t.left||"function"===typeof t.right)throw new Error("functions are not supported");t.leftType=null===t.left?"null":n(t.left),t.rightType=null===t.right?"null":n(t.right),t.leftType===t.rightType&&"boolean"!==t.leftType&&"number"!==t.leftType?("object"===t.leftType&&(t.leftIsArray=h(t.left)),"object"===t.rightType&&(t.rightIsArray=h(t.right)),t.leftIsArray===t.rightIsArray?t.left instanceof RegExp&&(t.right instanceof RegExp?t.setResult([t.left.toString(),t.right.toString()]).exit():t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()):t.setResult([t.left,t.right]).exit()}else t.setResult([t.left,0,0]).exit();else{if("function"===typeof t.right)throw new Error("functions are not supported");t.setResult([t.right]).exit()}else t.setResult(void 0).exit()};p.filterName="trivial";var y=function trivialMatchesPatchFilter(t){if("undefined"!==typeof t.delta){if(t.nested=!h(t.delta),!t.nested)if(1!==t.delta.length)if(2!==t.delta.length)3===t.delta.length&&0===t.delta[2]&&t.setResult(void 0).exit();else{if(t.left instanceof RegExp){var e=/^\/(.*)\/([gimyu]+)$/.exec(t.delta[1]);if(e)return void t.setResult(new RegExp(e[1],e[2])).exit()}t.setResult(t.delta[1]).exit()}else t.setResult(t.delta[0]).exit()}else t.setResult(t.left).exit()};y.filterName="trivial";var v=function trivialReferseFilter(t){"undefined"!==typeof t.delta?(t.nested=!h(t.delta),t.nested||(1!==t.delta.length?2!==t.delta.length?3===t.delta.length&&0===t.delta[2]&&t.setResult([t.delta[0]]).exit():t.setResult([t.delta[1],t.delta[0]]).exit():t.setResult([t.delta[0],0,0]).exit())):t.setResult(t.delta).exit()};function collectChildrenDiffFilter(t){if(t&&t.children){for(var e=t.children.length,n=void 0,r=t.result,i=0;i<e;i++)"undefined"!==typeof(n=t.children[i]).result&&((r=r||{})[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()}}function objectsDiffFilter(t){if(!t.leftIsArray&&"object"===t.leftType){var e=void 0,n=void 0,r=t.options.propertyFilter;for(e in t.left)Object.prototype.hasOwnProperty.call(t.left,e)&&(r&&!r(e,t)||(n=new f(t.left[e],t.right[e]),t.push(n,e)));for(e in t.right)Object.prototype.hasOwnProperty.call(t.right,e)&&(r&&!r(e,t)||"undefined"===typeof t.left[e]&&(n=new f(void 0,t.right[e]),t.push(n,e)));t.children&&0!==t.children.length?t.exit():t.setResult(void 0).exit()}}v.filterName="trivial",collectChildrenDiffFilter.filterName="collectChildren",objectsDiffFilter.filterName="objects";var g=function nestedPatchFilter(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new l(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};g.filterName="objects";var m=function collectChildrenPatchFilter(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],Object.prototype.hasOwnProperty.call(t.left,n.childName)&&void 0===n.result?delete t.left[n.childName]:t.left[n.childName]!==n.result&&(t.left[n.childName]=n.result);t.setResult(t.left).exit()}};m.filterName="collectChildren";var b=function nestedReverseFilter(t){if(t.nested&&!t.delta._t){var e=void 0,n=void 0;for(e in t.delta)n=new d(t.delta[e]),t.push(n,e);t.exit()}};function collectChildrenReverseFilter(t){if(t&&t.children&&!t.delta._t){for(var e=t.children.length,n=void 0,r={},i=0;i<e;i++)r[(n=t.children[i]).childName]!==n.result&&(r[n.childName]=n.result);t.setResult(r).exit()}}b.filterName="objects",collectChildrenReverseFilter.filterName="collectChildren";var _=function defaultMatch(t,e,n,r){return t[n]===e[r]},A=function lengthMatrix(t,e,n,r){var i=t.length,a=e.length,o=void 0,s=void 0,c=[i+1];for(o=0;o<i+1;o++)for(c[o]=[a+1],s=0;s<a+1;s++)c[o][s]=0;for(c.match=n,o=1;o<i+1;o++)for(s=1;s<a+1;s++)n(t,e,o-1,s-1,r)?c[o][s]=c[o-1][s-1]+1:c[o][s]=Math.max(c[o-1][s],c[o][s-1]);return c},j=function backtrack(t,e,n,r){for(var i=e.length,a=n.length,o={sequence:[],indices1:[],indices2:[]};0!==i&&0!==a;)t.match(e,n,i-1,a-1,r)?(o.sequence.unshift(e[i-1]),o.indices1.unshift(i-1),o.indices2.unshift(a-1),--i,--a):t[i][a-1]>t[i-1][a]?--a:--i;return o},k={get:function get(t,e,n,r){var i=r||{},a=A(t,e,n||_,i),o=j(a,t,e,i);return"string"===typeof t&&"string"===typeof e&&(o.sequence=o.sequence.join("")),o}},O=3,M="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},C="function"===typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]===e)return r;return-1};function arraysHaveMatchByRef(t,e,n,r){for(var i=0;i<n;i++)for(var a=t[i],o=0;o<r;o++){var s=e[o];if(i!==o&&a===s)return!0}}function matchItems(t,e,r,i,a){var o=t[r],s=e[i];if(o===s)return!0;if("object"!==("undefined"===typeof o?"undefined":n(o))||"object"!==("undefined"===typeof s?"undefined":n(s)))return!1;var c=a.objectHash;if(!c)return a.matchByPosition&&r===i;var u=void 0,f=void 0;return"number"===typeof r?(a.hashCache1=a.hashCache1||[],"undefined"===typeof(u=a.hashCache1[r])&&(a.hashCache1[r]=u=c(o,r))):u=c(o),"undefined"!==typeof u&&("number"===typeof i?(a.hashCache2=a.hashCache2||[],"undefined"===typeof(f=a.hashCache2[i])&&(a.hashCache2[i]=f=c(s,i))):f=c(s),"undefined"!==typeof f&&u===f)}var x=function arraysDiffFilter(t){if(t.leftIsArray){var e={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},n=0,r=0,i=void 0,a=void 0,o=void 0,s=t.left,c=t.right,u=s.length,l=c.length,d=void 0;for(u>0&&l>0&&!e.objectHash&&"boolean"!==typeof e.matchByPosition&&(e.matchByPosition=!arraysHaveMatchByRef(s,c,u,l));n<u&&n<l&&matchItems(s,c,n,n,e);)i=n,d=new f(t.left[i],t.right[i]),t.push(d,i),n++;for(;r+n<u&&r+n<l&&matchItems(s,c,u-1-r,l-1-r,e);)a=u-1-r,o=l-1-r,d=new f(t.left[a],t.right[o]),t.push(d,o),r++;var h=void 0;if(n+r!==u)if(n+r!==l){delete e.hashCache1,delete e.hashCache2;var p=s.slice(n,u-r),y=c.slice(n,l-r),v=k.get(p,y,matchItems,e),g=[];for(h=h||{_t:"a"},i=n;i<u-r;i++)C(v.indices1,i-n)<0&&(h["_"+i]=[s[i],0,0],g.push(i));var m=!0;t.options&&t.options.arrays&&!1===t.options.arrays.detectMove&&(m=!1);var b=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(b=!0);var _=g.length;for(i=n;i<l-r;i++){var A=C(v.indices2,i-n);if(A<0){var j=!1;if(m&&_>0)for(var M=0;M<_;M++)if(matchItems(p,y,(a=g[M])-n,i-n,e)){h["_"+a].splice(1,2,i,O),b||(h["_"+a][0]=""),o=i,d=new f(t.left[a],t.right[o]),t.push(d,o),g.splice(M,1),j=!0;break}j||(h[i]=[c[i]])}else a=v.indices1[A]+n,o=v.indices2[A]+n,d=new f(t.left[a],t.right[o]),t.push(d,o)}t.setResult(h).exit()}else{for(h=h||{_t:"a"},i=n;i<u-r;i++)h["_"+i]=[s[i],0,0];t.setResult(h).exit()}else{if(u===l)return void t.setResult(void 0).exit();for(h=h||{_t:"a"},i=n;i<l-r;i++)h[i]=[c[i]];t.setResult(h).exit()}}};x.filterName="arrays";var S={numerically:function numerically(t,e){return t-e},numericallyBy:function numericallyBy(t){return function(e,n){return e[t]-n[t]}}},w=function nestedPatchFilter(t){if(t.nested&&"a"===t.delta._t){var e=void 0,n=void 0,r=t.delta,i=t.left,a=[],o=[],s=[];for(e in r)if("_t"!==e)if("_"===e[0]){if(0!==r[e][2]&&r[e][2]!==O)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[e][2]);a.push(parseInt(e.slice(1),10))}else 1===r[e].length?o.push({index:parseInt(e,10),value:r[e][0]}):s.push({index:parseInt(e,10),delta:r[e]});for(e=(a=a.sort(S.numerically)).length-1;e>=0;e--){var c=r["_"+(n=a[e])],u=i.splice(n,1)[0];c[2]===O&&o.push({index:c[1],value:u})}var f=(o=o.sort(S.numericallyBy("index"))).length;for(e=0;e<f;e++){var d=o[e];i.splice(d.index,0,d.value)}var h=s.length,p=void 0;if(h>0)for(e=0;e<h;e++){var y=s[e];p=new l(t.left[y.index],y.delta),t.push(p,y.index)}t.children?t.exit():t.setResult(t.left).exit()}};w.filterName="arrays";var I=function collectChildrenPatchFilter(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r=0;r<e;r++)n=t.children[r],t.left[n.childName]=n.result;t.setResult(t.left).exit()}};I.filterName="arraysCollectChildren";var P=function arraysReverseFilter(t){if(t.nested){if("a"===t.delta._t){var e=void 0,n=void 0;for(e in t.delta)"_t"!==e&&(n=new d(t.delta[e]),t.push(n,e));t.exit()}}else t.delta[2]===O&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),O]).exit())};P.filterName="arrays";var E=function reverseArrayDeltaIndex(t,e,n){if("string"===typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(M(n)&&0===n[2])return"_"+e;var r=+e;for(var i in t){var a=t[i];if(M(a))if(a[2]===O){var o=parseInt(i.substr(1),10),s=a[1];if(s===+e)return o;o<=r&&s>r?r++:o>=r&&s<r&&r--}else 0===a[2]?parseInt(i.substr(1),10)<=r&&r++:1===a.length&&i<=r&&r--}return r};function collectChildrenReverseFilter$1(t){if(t&&t.children&&"a"===t.delta._t){for(var e=t.children.length,n=void 0,r={_t:"a"},i=0;i<e;i++){var a=(n=t.children[i]).newName;"undefined"===typeof a&&(a=E(t.delta,n.childName,n.result)),r[a]!==n.result&&(r[a]=n.result)}t.setResult(r).exit()}}collectChildrenReverseFilter$1.filterName="arraysCollectChildren";var D=function datesDiffFilter(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}D.filterName="dates";var R=createCommonjsModule((function(t){function diff_match_patch(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var e=-1,n=1,r=0;diff_match_patch.prototype.diff_main=function(t,e,n,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var a=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[r,t]]:[];"undefined"==typeof n&&(n=!0);var o=n,s=this.diff_commonPrefix(t,e),c=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var u=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var f=this.diff_compute_(t,e,o,a);return c&&f.unshift([r,c]),u&&f.push([r,u]),this.diff_cleanupMerge(f),f},diff_match_patch.prototype.diff_compute_=function(t,i,a,o){var s;if(!t)return[[n,i]];if(!i)return[[e,t]];var c=t.length>i.length?t:i,u=t.length>i.length?i:t,f=c.indexOf(u);if(-1!=f)return s=[[n,c.substring(0,f)],[r,u],[n,c.substring(f+u.length)]],t.length>i.length&&(s[0][0]=s[2][0]=e),s;if(1==u.length)return[[e,t],[n,i]];var l=this.diff_halfMatch_(t,i);if(l){var d=l[0],h=l[1],p=l[2],y=l[3],v=l[4],g=this.diff_main(d,p,a,o),m=this.diff_main(h,y,a,o);return g.concat([[r,v]],m)}return a&&t.length>100&&i.length>100?this.diff_lineMode_(t,i,o):this.diff_bisect_(t,i,o)},diff_match_patch.prototype.diff_lineMode_=function(t,i,a){t=(h=this.diff_linesToChars_(t,i)).chars1,i=h.chars2;var o=h.lineArray,s=this.diff_main(t,i,!1,a);this.diff_charsToLines_(s,o),this.diff_cleanupSemantic(s),s.push([r,""]);for(var c=0,u=0,f=0,l="",d="";c<s.length;){switch(s[c][0]){case n:f++,d+=s[c][1];break;case e:u++,l+=s[c][1];break;case r:if(u>=1&&f>=1){s.splice(c-u-f,u+f),c=c-u-f;for(var h,p=(h=this.diff_main(l,d,!1,a)).length-1;p>=0;p--)s.splice(c,0,h[p]);c+=h.length}f=0,u=0,l="",d=""}c++}return s.pop(),s},diff_match_patch.prototype.diff_bisect_=function(t,r,i){for(var a=t.length,o=r.length,s=Math.ceil((a+o)/2),c=s,u=2*s,f=new Array(u),l=new Array(u),d=0;d<u;d++)f[d]=-1,l[d]=-1;f[c+1]=0,l[c+1]=0;for(var h=a-o,p=h%2!=0,y=0,v=0,g=0,m=0,b=0;b<s&&!((new Date).getTime()>i);b++){for(var _=-b+y;_<=b-v;_+=2){for(var A=c+_,j=(x=_==-b||_!=b&&f[A-1]<f[A+1]?f[A+1]:f[A-1]+1)-_;x<a&&j<o&&t.charAt(x)==r.charAt(j);)x++,j++;if(f[A]=x,x>a)v+=2;else if(j>o)y+=2;else if(p&&(M=c+h-_)>=0&&M<u&&-1!=l[M]&&x>=(O=a-l[M]))return this.diff_bisectSplit_(t,r,x,j,i)}for(var k=-b+g;k<=b-m;k+=2){for(var O,M=c+k,C=(O=k==-b||k!=b&&l[M-1]<l[M+1]?l[M+1]:l[M-1]+1)-k;O<a&&C<o&&t.charAt(a-O-1)==r.charAt(o-C-1);)O++,C++;if(l[M]=O,O>a)m+=2;else if(C>o)g+=2;else if(!p){var x;if((A=c+h-k)>=0&&A<u&&-1!=f[A])if(j=c+(x=f[A])-A,x>=(O=a-O))return this.diff_bisectSplit_(t,r,x,j,i)}}}return[[e,t],[n,r]]},diff_match_patch.prototype.diff_bisectSplit_=function(t,e,n,r,i){var a=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=this.diff_main(a,o,!1,i),f=this.diff_main(s,c,!1,i);return u.concat(f)},diff_match_patch.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function diff_linesToCharsMunge_(t){for(var e="",i=0,a=-1,o=n.length;a<t.length-1;){-1==(a=t.indexOf("\n",i))&&(a=t.length-1);var s=t.substring(i,a+1);i=a+1,(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?e+=String.fromCharCode(r[s]):(e+=String.fromCharCode(o),r[s]=o,n[o++]=s)}return e}return n[0]="",{chars1:diff_linesToCharsMunge_(t),chars2:diff_linesToCharsMunge_(e),lineArray:n}},diff_match_patch.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],a=0;a<r.length;a++)i[a]=e[r.charCodeAt(a)];t[n][1]=i.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,a=0;n<i;)t.substring(a,i)==e.substring(a,i)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i},diff_match_patch.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,a=0;n<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?a=n=i:r=i,i=Math.floor((r-n)/2+n);return i},diff_match_patch.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var a=0,o=1;;){var s=t.substring(i-o),c=e.indexOf(s);if(-1==c)return a;o+=c,0!=c&&t.substring(i-o)!=e.substring(0,o)||(a=o,o++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function diff_halfMatchI_(t,e,n){for(var r,a,o,s,c=t.substring(n,n+Math.floor(t.length/4)),u=-1,f="";-1!=(u=e.indexOf(c,u+1));){var l=i.diff_commonPrefix(t.substring(n),e.substring(u)),d=i.diff_commonSuffix(t.substring(0,n),e.substring(0,u));f.length<d+l&&(f=e.substring(u-d,u)+e.substring(u,u+l),r=t.substring(0,n-d),a=t.substring(n+l),o=e.substring(0,u-d),s=e.substring(u+l))}return 2*f.length>=t.length?[r,a,o,s,f]:null}var a,o,s,c,u,f=diff_halfMatchI_(n,r,Math.ceil(n.length/4)),l=diff_halfMatchI_(n,r,Math.ceil(n.length/2));return f||l?(a=l?f&&f[4].length>l[4].length?f:l:f,t.length>e.length?(o=a[0],s=a[1],c=a[2],u=a[3]):(c=a[0],u=a[1],o=a[2],s=a[3]),[o,s,c,u,a[4]]):null},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var i=!1,a=[],o=0,s=null,c=0,u=0,f=0,l=0,d=0;c<t.length;)t[c][0]==r?(a[o++]=c,u=l,f=d,l=0,d=0,s=t[c][1]):(t[c][0]==n?l+=t[c][1].length:d+=t[c][1].length,s&&s.length<=Math.max(u,f)&&s.length<=Math.max(l,d)&&(t.splice(a[o-1],0,[e,s]),t[a[o-1]+1][0]=n,o--,c=--o>0?a[o-1]:-1,u=0,f=0,l=0,d=0,s=null,i=!0)),c++;for(i&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),c=1;c<t.length;){if(t[c-1][0]==e&&t[c][0]==n){var h=t[c-1][1],p=t[c][1],y=this.diff_commonOverlap_(h,p),v=this.diff_commonOverlap_(p,h);y>=v?(y>=h.length/2||y>=p.length/2)&&(t.splice(c,0,[r,p.substring(0,y)]),t[c-1][1]=h.substring(0,h.length-y),t[c+1][1]=p.substring(y),c++):(v>=h.length/2||v>=p.length/2)&&(t.splice(c,0,[r,h.substring(0,v)]),t[c-1][0]=n,t[c-1][1]=p.substring(0,p.length-v),t[c+1][0]=e,t[c+1][1]=h.substring(v),c++),c++}c++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){function diff_cleanupSemanticScore_(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),r=e.charAt(0),i=n.match(diff_match_patch.nonAlphaNumericRegex_),a=r.match(diff_match_patch.nonAlphaNumericRegex_),o=i&&n.match(diff_match_patch.whitespaceRegex_),s=a&&r.match(diff_match_patch.whitespaceRegex_),c=o&&n.match(diff_match_patch.linebreakRegex_),u=s&&r.match(diff_match_patch.linebreakRegex_),f=c&&t.match(diff_match_patch.blanklineEndRegex_),l=u&&e.match(diff_match_patch.blanklineStartRegex_);return f||l?5:c||u?4:i&&!o&&s?3:o||s?2:i||a?1:0}for(var e=1;e<t.length-1;){if(t[e-1][0]==r&&t[e+1][0]==r){var n=t[e-1][1],i=t[e][1],a=t[e+1][1],o=this.diff_commonSuffix(n,i);if(o){var s=i.substring(i.length-o);n=n.substring(0,n.length-o),i=s+i.substring(0,i.length-o),a=s+a}for(var c=n,u=i,f=a,l=diff_cleanupSemanticScore_(n,i)+diff_cleanupSemanticScore_(i,a);i.charAt(0)===a.charAt(0);){n+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var d=diff_cleanupSemanticScore_(n,i)+diff_cleanupSemanticScore_(i,a);d>=l&&(l=d,c=n,u=i,f=a)}t[e-1][1]!=c&&(c?t[e-1][1]=c:(t.splice(e-1,1),e--),t[e][1]=u,f?t[e+1][1]=f:(t.splice(e+1,1),e--))}e++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var i=!1,a=[],o=0,s=null,c=0,u=!1,f=!1,l=!1,d=!1;c<t.length;)t[c][0]==r?(t[c][1].length<this.Diff_EditCost&&(l||d)?(a[o++]=c,u=l,f=d,s=t[c][1]):(o=0,s=null),l=d=!1):(t[c][0]==e?d=!0:l=!0,s&&(u&&f&&l&&d||s.length<this.Diff_EditCost/2&&u+f+l+d==3)&&(t.splice(a[o-1],0,[e,s]),t[a[o-1]+1][0]=n,o--,s=null,u&&f?(l=d=!0,o=0):(c=--o>0?a[o-1]:-1,l=d=!1),i=!0)),c++;i&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push([r,""]);for(var i,a=0,o=0,s=0,c="",u="";a<t.length;)switch(t[a][0]){case n:s++,u+=t[a][1],a++;break;case e:o++,c+=t[a][1],a++;break;case r:o+s>1?(0!==o&&0!==s&&(0!==(i=this.diff_commonPrefix(u,c))&&(a-o-s>0&&t[a-o-s-1][0]==r?t[a-o-s-1][1]+=u.substring(0,i):(t.splice(0,0,[r,u.substring(0,i)]),a++),u=u.substring(i),c=c.substring(i)),0!==(i=this.diff_commonSuffix(u,c))&&(t[a][1]=u.substring(u.length-i)+t[a][1],u=u.substring(0,u.length-i),c=c.substring(0,c.length-i))),0===o?t.splice(a-s,o+s,[n,u]):0===s?t.splice(a-o,o+s,[e,c]):t.splice(a-o-s,o+s,[e,c],[n,u]),a=a-o-s+(o?1:0)+(s?1:0)+1):0!==a&&t[a-1][0]==r?(t[a-1][1]+=t[a][1],t.splice(a,1)):a++,s=0,o=0,c="",u=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(a=1;a<t.length-1;)t[a-1][0]==r&&t[a+1][0]==r&&(t[a][1].substring(t[a][1].length-t[a-1][1].length)==t[a-1][1]?(t[a][1]=t[a-1][1]+t[a][1].substring(0,t[a][1].length-t[a-1][1].length),t[a+1][1]=t[a-1][1]+t[a+1][1],t.splice(a-1,1),f=!0):t[a][1].substring(0,t[a+1][1].length)==t[a+1][1]&&(t[a-1][1]+=t[a+1][1],t[a][1]=t[a][1].substring(t[a+1][1].length)+t[a+1][1],t.splice(a+1,1),f=!0)),a++;f&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,r){var i,a=0,o=0,s=0,c=0;for(i=0;i<t.length&&(t[i][0]!==n&&(a+=t[i][1].length),t[i][0]!==e&&(o+=t[i][1].length),!(a>r));i++)s=a,c=o;return t.length!=i&&t[i][0]===e?c:c+(r-s)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var i=[],a=/&/g,o=/</g,s=/>/g,c=/\n/g,u=0;u<t.length;u++){var f=t[u][0],l=t[u][1].replace(a,"&amp;").replace(o,"&lt;").replace(s,"&gt;").replace(c,"&para;<br>");switch(f){case n:i[u]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case e:i[u]='<del style="background:#ffe6e6;">'+l+"</del>";break;case r:i[u]="<span>"+l+"</span>"}}return i.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==n&&(e[r]=t[r][1]);return e.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==e&&(n[r]=t[r][1]);return n.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var i=0,a=0,o=0,s=0;s<t.length;s++){var c=t[s][0],u=t[s][1];switch(c){case n:a+=u.length;break;case e:o+=u.length;break;case r:i+=Math.max(a,o),a=0,o=0}}return i+=Math.max(a,o)},diff_match_patch.prototype.diff_toDelta=function(t){for(var i=[],a=0;a<t.length;a++)switch(t[a][0]){case n:i[a]="+"+encodeURI(t[a][1]);break;case e:i[a]="-"+t[a][1].length;break;case r:i[a]="="+t[a][1].length}return i.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,i){for(var a=[],o=0,s=0,c=i.split(/\t/g),u=0;u<c.length;u++){var f=c[u].substring(1);switch(c[u].charAt(0)){case"+":try{a[o++]=[n,decodeURI(f)]}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var l=parseInt(f,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+f);var d=t.substring(s,s+=l);"="==c[u].charAt(0)?a[o++]=[r,d]:a[o++]=[e,d];break;default:if(c[u])throw new Error("Invalid diff operation in diff_fromDelta: "+c[u])}}if(s!=t.length)throw new Error("Delta length ("+s+") does not equal source text length ("+t.length+").");return a},diff_match_patch.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},diff_match_patch.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function match_bitapScore_(t,r){var a=t/e.length,o=Math.abs(n-r);return i.Match_Distance?a+o/i.Match_Distance:o?1:a}var a=this.Match_Threshold,o=t.indexOf(e,n);-1!=o&&(a=Math.min(match_bitapScore_(0,o),a),-1!=(o=t.lastIndexOf(e,n+e.length))&&(a=Math.min(match_bitapScore_(0,o),a)));var s,c,u=1<<e.length-1;o=-1;for(var f,l=e.length+t.length,d=0;d<e.length;d++){for(s=0,c=l;s<c;)match_bitapScore_(d,n+c)<=a?s=c:l=c,c=Math.floor((l-s)/2+s);l=c;var h=Math.max(1,n-c+1),p=Math.min(n+c,t.length)+e.length,y=Array(p+2);y[p+1]=(1<<d)-1;for(var v=p;v>=h;v--){var g=r[t.charAt(v-1)];if(y[v]=0===d?(y[v+1]<<1|1)&g:(y[v+1]<<1|1)&g|(f[v+1]|f[v])<<1|1|f[v+1],y[v]&u){var m=match_bitapScore_(d,v-1);if(m<=a){if(a=m,!((o=v-1)>n))break;h=Math.max(1,2*n-o)}}}if(match_bitapScore_(d+1,n)>a)break;f=y}return o},diff_match_patch.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},diff_match_patch.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var a=e.substring(t.start2-i,t.start2);a&&t.diffs.unshift([r,a]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+i);o&&t.diffs.push([r,o]),t.start1-=a.length,t.start2-=a.length,t.length1+=a.length+o.length,t.length2+=a.length+o.length}},diff_match_patch.prototype.patch_make=function(t,i,a){var o,s;if("string"==typeof t&&"string"==typeof i&&"undefined"==typeof a)o=t,(s=this.diff_main(o,i,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(t&&"object"==typeof t&&"undefined"==typeof i&&"undefined"==typeof a)s=t,o=this.diff_text1(s);else if("string"==typeof t&&i&&"object"==typeof i&&"undefined"==typeof a)o=t,s=i;else{if("string"!=typeof t||"string"!=typeof i||!a||"object"!=typeof a)throw new Error("Unknown call format to patch_make.");o=t,s=a}if(0===s.length)return[];for(var c=[],u=new diff_match_patch.patch_obj,f=0,l=0,d=0,h=o,p=o,y=0;y<s.length;y++){var v=s[y][0],g=s[y][1];switch(f||v===r||(u.start1=l,u.start2=d),v){case n:u.diffs[f++]=s[y],u.length2+=g.length,p=p.substring(0,d)+g+p.substring(d);break;case e:u.length1+=g.length,u.diffs[f++]=s[y],p=p.substring(0,d)+p.substring(d+g.length);break;case r:g.length<=2*this.Patch_Margin&&f&&s.length!=y+1?(u.diffs[f++]=s[y],u.length1+=g.length,u.length2+=g.length):g.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(u,h),c.push(u),u=new diff_match_patch.patch_obj,f=0,h=p,l=d)}v!==n&&(l+=g.length),v!==e&&(d+=g.length)}return f&&(this.patch_addContext_(u,h),c.push(u)),c},diff_match_patch.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=new diff_match_patch.patch_obj;i.diffs=[];for(var a=0;a<r.diffs.length;a++)i.diffs[a]=r.diffs[a].slice();i.start1=r.start1,i.start2=r.start2,i.length1=r.length1,i.length2=r.length2,e[n]=i}return e},diff_match_patch.prototype.patch_apply=function(t,i){if(0==t.length)return[i,[]];t=this.patch_deepCopy(t);var a=this.patch_addPadding(t);i=a+i+a,this.patch_splitMax(t);for(var o=0,s=[],c=0;c<t.length;c++){var u,f,l=t[c].start2+o,d=this.diff_text1(t[c].diffs),h=-1;if(d.length>this.Match_MaxBits?-1!=(u=this.match_main(i,d.substring(0,this.Match_MaxBits),l))&&(-1==(h=this.match_main(i,d.substring(d.length-this.Match_MaxBits),l+d.length-this.Match_MaxBits))||u>=h)&&(u=-1):u=this.match_main(i,d,l),-1==u)s[c]=!1,o-=t[c].length2-t[c].length1;else if(s[c]=!0,o=u-l,d==(f=-1==h?i.substring(u,u+d.length):i.substring(u,h+this.Match_MaxBits)))i=i.substring(0,u)+this.diff_text2(t[c].diffs)+i.substring(u+d.length);else{var p=this.diff_main(d,f,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(p)/d.length>this.Patch_DeleteThreshold)s[c]=!1;else{this.diff_cleanupSemanticLossless(p);for(var y,v=0,g=0;g<t[c].diffs.length;g++){var m=t[c].diffs[g];m[0]!==r&&(y=this.diff_xIndex(p,v)),m[0]===n?i=i.substring(0,u+y)+m[1]+i.substring(u+y):m[0]===e&&(i=i.substring(0,u+y)+i.substring(u+this.diff_xIndex(p,v+m[1].length))),m[0]!==e&&(v+=m[1].length)}}}}return[i=i.substring(a.length,i.length-a.length),s]},diff_match_patch.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var a=t[0],o=a.diffs;if(0==o.length||o[0][0]!=r)o.unshift([r,n]),a.start1-=e,a.start2-=e,a.length1+=e,a.length2+=e;else if(e>o[0][1].length){var s=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],a.start1-=s,a.start2-=s,a.length1+=s,a.length2+=s}return 0==(o=(a=t[t.length-1]).diffs).length||o[o.length-1][0]!=r?(o.push([r,n]),a.length1+=e,a.length2+=e):e>o[o.length-1][1].length&&(s=e-o[o.length-1][1].length,o[o.length-1][1]+=n.substring(0,s),a.length1+=s,a.length2+=s),n},diff_match_patch.prototype.patch_splitMax=function(t){for(var i=this.Match_MaxBits,a=0;a<t.length;a++)if(!(t[a].length1<=i)){var o=t[a];t.splice(a--,1);for(var s=o.start1,c=o.start2,u="";0!==o.diffs.length;){var f=new diff_match_patch.patch_obj,l=!0;for(f.start1=s-u.length,f.start2=c-u.length,""!==u&&(f.length1=f.length2=u.length,f.diffs.push([r,u]));0!==o.diffs.length&&f.length1<i-this.Patch_Margin;){var d=o.diffs[0][0],h=o.diffs[0][1];d===n?(f.length2+=h.length,c+=h.length,f.diffs.push(o.diffs.shift()),l=!1):d===e&&1==f.diffs.length&&f.diffs[0][0]==r&&h.length>2*i?(f.length1+=h.length,s+=h.length,l=!1,f.diffs.push([d,h]),o.diffs.shift()):(h=h.substring(0,i-f.length1-this.Patch_Margin),f.length1+=h.length,s+=h.length,d===r?(f.length2+=h.length,c+=h.length):l=!1,f.diffs.push([d,h]),h==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(h.length))}u=(u=this.diff_text2(f.diffs)).substring(u.length-this.Patch_Margin);var p=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==p&&(f.length1+=p.length,f.length2+=p.length,0!==f.diffs.length&&f.diffs[f.diffs.length-1][0]===r?f.diffs[f.diffs.length-1][1]+=p:f.diffs.push([r,p])),l||t.splice(++a,0,f)}}},diff_match_patch.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},diff_match_patch.prototype.patch_fromText=function(t){var i=[];if(!t)return i;for(var a=t.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<a.length;){var c=a[o].match(s);if(!c)throw new Error("Invalid patch string: "+a[o]);var u=new diff_match_patch.patch_obj;for(i.push(u),u.start1=parseInt(c[1],10),""===c[2]?(u.start1--,u.length1=1):"0"==c[2]?u.length1=0:(u.start1--,u.length1=parseInt(c[2],10)),u.start2=parseInt(c[3],10),""===c[4]?(u.start2--,u.length2=1):"0"==c[4]?u.length2=0:(u.start2--,u.length2=parseInt(c[4],10)),o++;o<a.length;){var f=a[o].charAt(0);try{var l=decodeURI(a[o].substring(1))}catch(d){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==f)u.diffs.push([e,l]);else if("+"==f)u.diffs.push([n,l]);else if(" "==f)u.diffs.push([r,l]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+l)}o++}}return i},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){for(var t,i=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case n:t="+";break;case e:t="-";break;case r:t=" "}i[a+1]=t+encodeURI(this.diffs[a][1])+"\n"}return i.join("").replace(/%20/g," ")},t.exports=diff_match_patch,t.exports.diff_match_patch=diff_match_patch,t.exports.DIFF_DELETE=e,t.exports.DIFF_INSERT=n,t.exports.DIFF_EQUAL=r})),F=2,B=60,T=null,N=function getDiffMatchPatch(t){if(!T){var e=void 0;if("undefined"!==typeof diff_match_patch)e="function"===typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(R)try{e=R&&new R}catch(r){e=null}if(!e){if(!t)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}T={diff:function diff(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function patch(t,n){for(var r=e.patch_apply(e.patch_fromText(n),t),i=0;i<r[1].length;i++)r[1][i]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return T},L=function textsDiffFilter(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||B;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var n=N();if(n){var r=n.diff;t.setResult([r(t.left,t.right),0,F]).exit()}else t.setResult([t.left,t.right]).exit()}}};L.filterName="texts";var V=function textsPatchFilter(t){if(!t.nested&&t.delta[2]===F){var e=N(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};V.filterName="texts";var $=function textDeltaReverse(t){var e=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=null,s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,n=(r=t.split("\n")).length;e<n;e++){var c=(i=r[e]).slice(0,1);"@"===c?(o=s.exec(i),r[e]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@"):"+"===c?(r[e]="-"+r[e].slice(1),"+"===r[e-1].slice(0,1)&&(a=r[e],r[e]=r[e-1],r[e-1]=a)):"-"===c&&(r[e]="+"+r[e].slice(1))}return r.join("\n")},H=function textsReverseFilter(t){t.nested||t.delta[2]===F&&t.setResult([$(t.delta[0]),0,F]).exit()};H.filterName="texts";var z=function(){function DiffPatcher(t){classCallCheck(this,DiffPatcher),this.processor=new o(t),this.processor.pipe(new s("diff").append(collectChildrenDiffFilter,p,D,L,objectsDiffFilter,x).shouldHaveResult()),this.processor.pipe(new s("patch").append(m,I,y,V,g,w).shouldHaveResult()),this.processor.pipe(new s("reverse").append(collectChildrenReverseFilter,collectChildrenReverseFilter$1,v,H,b,P).shouldHaveResult())}return r(DiffPatcher,[{key:"options",value:function options(){var t;return(t=this.processor).options.apply(t,arguments)}},{key:"diff",value:function diff(t,e){return this.processor.process(new f(t,e))}},{key:"patch",value:function patch(t,e){return this.processor.process(new l(t,e))}},{key:"reverse",value:function reverse(t){return this.processor.process(new d(t))}},{key:"unpatch",value:function unpatch(t,e){return this.patch(t,this.reverse(e))}},{key:"clone",value:function clone$$1(t){return clone(t)}}]),DiffPatcher}(),q="function"===typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},K="function"===typeof Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},G=function trimUnderscore(t){return"_"===t.substr(0,1)?t.slice(1):t},U=function arrayKeyToSortNumber(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},W=function arrayKeyComparer(t,e){return U(t)-U(e)},Z=function(){function BaseFormatter(){classCallCheck(this,BaseFormatter)}return r(BaseFormatter,[{key:"format",value:function format(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),this.finalize(n)}},{key:"prepareContext",value:function prepareContext(t){t.buffer=[],t.out=function(){var t;(t=this.buffer).push.apply(t,arguments)}}},{key:"typeFormattterNotFound",value:function typeFormattterNotFound(t,e){throw new Error("cannot format delta type: "+e)}},{key:"typeFormattterErrorFormatter",value:function typeFormattterErrorFormatter(t,e){return e.toString()}},{key:"finalize",value:function finalize(t){var e=t.buffer;if(q(e))return e.join("")}},{key:"recurse",value:function recurse(t,e,n,r,i,a,o){var s=e&&a?a.value:n;if("undefined"!==typeof e||"undefined"!==typeof r){var c=this.getDeltaType(e,a),u="node"===c?"a"===e._t?"array":"object":"";"undefined"!==typeof r?this.nodeBegin(t,r,i,c,u,o):this.rootBegin(t,c,u);try{(this["format_"+c]||this.typeFormattterNotFound(t,c)).call(this,t,e,s,r,i,a)}catch(f){this.typeFormattterErrorFormatter(t,f,e,s,r,i,a),"undefined"!==typeof console&&console.error&&console.error(f.stack)}"undefined"!==typeof r?this.nodeEnd(t,r,i,c,u,o):this.rootEnd(t,c,u)}}},{key:"formatDeltaChildren",value:function formatDeltaChildren(t,e,n){var r=this;this.forEachDeltaKey(e,n,(function(i,a,o,s){r.recurse(t,e[i],n?n[a]:void 0,i,a,o,s)}))}},{key:"forEachDeltaKey",value:function forEachDeltaKey(t,e,n){var r=K(t),i="a"===t._t,a={},o=void 0;if("undefined"!==typeof e)for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&("undefined"!==typeof t[o]||i&&"undefined"!==typeof t["_"+o]||r.push(o));for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=t[o];q(s)&&3===s[2]&&(a[s[1].toString()]={key:o,value:e&&e[parseInt(o.substr(1))]},!1!==this.includeMoveDestinations&&"undefined"===typeof e&&"undefined"===typeof t[s[1]]&&r.push(s[1].toString()))}i?r.sort(W):r.sort();for(var c=0,u=r.length;c<u;c++){var f=r[c];if(!i||"_t"!==f){var l=i?"number"===typeof f?f:parseInt(G(f),10):f,d=c===u-1;n(f,l,a[l],d)}}}},{key:"getDeltaType",value:function getDeltaType(t,e){if("undefined"===typeof t)return"undefined"!==typeof e?"movedestination":"unchanged";if(q(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"===("undefined"===typeof t?"undefined":n(t)))return"node";return"unknown"}},{key:"parseTextDiff",value:function parseTextDiff(t){for(var e=[],n=t.split("\n@@ "),r=0,i=n.length;r<i;r++){var a=n[r],o={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(a).slice(1);o.location={line:s[0],chr:s[1]};for(var c=a.split("\n").slice(1),u=0,f=c.length;u<f;u++){var l=c[u];if(l.length){var d={type:"context"};"+"===l.substr(0,1)?d.type="added":"-"===l.substr(0,1)&&(d.type="deleted"),d.text=l.slice(1),o.pieces.push(d)}}e.push(o)}return e}}]),BaseFormatter}(),J=Object.freeze({default:Z}),Q=function(t){function HtmlFormatter(){return classCallCheck(this,HtmlFormatter),possibleConstructorReturn(this,(HtmlFormatter.__proto__||Object.getPrototypeOf(HtmlFormatter)).apply(this,arguments))}return inherits(HtmlFormatter,t),r(HtmlFormatter,[{key:"typeFormattterErrorFormatter",value:function typeFormattterErrorFormatter(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatValue",value:function formatValue(t,e){t.out("<pre>"+htmlEscape(JSON.stringify(e,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function formatTextDiffString(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var a=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var o=a.pieces,s=0,c=o.length;s<c;s++){var u=o[s];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+htmlEscape(decodeURI(u.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function rootBegin(t,e,n){var r="jsondiffpatch-"+e+(n?" jsondiffpatch-child-node-type-"+n:"");t.out('<div class="jsondiffpatch-delta '+r+'">')}},{key:"rootEnd",value:function rootEnd(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+X.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function nodeBegin(t,e,n,r,i){var a="jsondiffpatch-"+r+(i?" jsondiffpatch-child-node-type-"+i:"");t.out('<li class="'+a+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")}},{key:"nodeEnd",value:function nodeEnd(t){t.out("</li>")}},{key:"format_unchanged",value:function format_unchanged(t,e,n){"undefined"!==typeof n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_movedestination",value:function format_movedestination(t,e,n){"undefined"!==typeof n&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,n),t.out("</div>"))}},{key:"format_node",value:function format_node(t,e,n){var r="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+r+'">'),this.formatDeltaChildren(t,e,n),t.out("</ul>")}},{key:"format_added",value:function format_added(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_modified",value:function format_modified(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")}},{key:"format_deleted",value:function format_deleted(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")}},{key:"format_moved",value:function format_moved(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),t.hasArrows=!0}},{key:"format_textdiff",value:function format_textdiff(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")}}]),HtmlFormatter}(Z);function htmlEscape(t){for(var e=t,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)e=e.replace(n[r][0],n[r][1]);return e}var X=function jsondiffpatchHtmlFormatterAdjustArrows(t){var e=t||document,n=function getElementText(t){var e=t.textContent,n=t.innerText;return e||n},r=function eachChildren(t,e){for(var n=t.children,r=0,i=n.length;r<i;r++)e(n[r],r)};!function eachByQuery(t,e,n){for(var r=t.querySelectorAll(e),i=0,a=r.length;i<a;i++)n(r[i])}(e,".jsondiffpatch-arrow",(function(t){var e=t.parentNode,i=t.children,a=t.style,o=e,s=i[0],c=s.children[1];s.style.display="none";var u=n(o.querySelector(".jsondiffpatch-moved-destination")),f=o.parentNode,l=void 0;if(r(f,(function(t){t.getAttribute("data-key")===u&&(l=t)})),l)try{var d=l.offsetTop-o.offsetTop;s.setAttribute("height",Math.abs(d)+6),a.top=-8+(d>0?0:d)+"px";var h=d>0?"M30,0 Q-10,"+Math.round(d/2)+" 26,"+(d-4):"M30,"+-d+" Q-10,"+Math.round(-d/2)+" 26,4";c.setAttribute("d",h),s.style.display=""}catch(p){}}))},Y=function showUnchanged(t,e,n){var r=e||document.body,i="jsondiffpatch-unchanged-",a={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},o=r.classList;if(o){if(!n)return o.remove(a.showing),o.remove(a.hiding),o.remove(a.visible),o.remove(a.hidden),void(!1===t&&o.add(a.hidden));!1===t?(o.remove(a.showing),o.add(a.visible),setTimeout((function(){o.add(a.hiding)}),10)):(o.remove(a.hiding),o.add(a.showing),o.remove(a.hidden));var s=setInterval((function(){X(r)}),100);setTimeout((function(){o.remove(a.showing),o.remove(a.hiding),!1===t?(o.add(a.hidden),o.remove(a.visible)):(o.add(a.visible),o.remove(a.hidden)),setTimeout((function(){o.remove(a.visible),clearInterval(s)}),n+400)}),n)}},tt=function hideUnchanged(t,e){return Y(!1,t,e)},et=void 0;function format(t,e){return et||(et=new Q),et.format(t,e)}var nt=Object.freeze({showUnchanged:Y,hideUnchanged:tt,default:Q,format:format}),rt=function(t){function AnnotatedFormatter(){classCallCheck(this,AnnotatedFormatter);var t=possibleConstructorReturn(this,(AnnotatedFormatter.__proto__||Object.getPrototypeOf(AnnotatedFormatter)).call(this));return t.includeMoveDestinations=!1,t}return inherits(AnnotatedFormatter,t),r(AnnotatedFormatter,[{key:"prepareContext",value:function prepareContext(t){i(AnnotatedFormatter.prototype.__proto__||Object.getPrototypeOf(AnnotatedFormatter.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+("undefined"===typeof t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,n){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(n),t.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function typeFormattterErrorFormatter(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")}},{key:"formatTextDiffString",value:function formatTextDiffString(t,e){var n=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var a=n[r];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var o=a.pieces,s=0,c=o.length;s<c;s++){var u=o[s];t.out('<span class="jsondiffpatch-textdiff-'+u.type+'">'+u.text+"</span>")}t.out("</div></li>")}t.out("</ul>")}},{key:"rootBegin",value:function rootBegin(t,e,n){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===n&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function rootEnd(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")}},{key:"nodeBegin",value:function nodeBegin(t,e,n,r,i){t.row("&quot;"+e+"&quot;: {"),"node"===r&&t.indent(),"array"===i&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function nodeEnd(t,e,n,r,i,a){"node"===r&&t.indent(-1),t.row("}"+(a?"":","))}},{key:"format_unchanged",value:function format_unchanged(){}},{key:"format_movedestination",value:function format_movedestination(){}},{key:"format_node",value:function format_node(t,e,n){this.formatDeltaChildren(t,e,n)}}]),AnnotatedFormatter}(Z),it=function wrapPropertyName(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},at={added:function added(t,e,n,r){var i=" <pre>([newValue])</pre>";return"undefined"===typeof r?"new value"+i:"number"===typeof r?"insert at index "+r+i:"add property "+it(r)+i},modified:function modified(t,e,n,r){var i=" <pre>([previousValue, newValue])</pre>";return"undefined"===typeof r?"modify value"+i:"number"===typeof r?"modify at index "+r+i:"modify property "+it(r)+i},deleted:function deleted(t,e,n,r){var i=" <pre>([previousValue, 0, 0])</pre>";return"undefined"===typeof r?"delete value"+i:"number"===typeof r?"remove index "+r+i:"delete property "+it(r)+i},moved:function moved(t,e,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function textdiff(t,e,n,r){return"text diff"+("undefined"===typeof r?"":"number"===typeof r?" at index "+r:" at property "+it(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},ot=function formatAnyChange(t,e){var n=this.getDeltaType(e),r=at[n],i=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),a=JSON.stringify(e,null,2);"textdiff"===n&&(a=a.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(a,i),t.indent(-1)};rt.prototype.format_added=ot,rt.prototype.format_modified=ot,rt.prototype.format_deleted=ot,rt.prototype.format_moved=ot,rt.prototype.format_textdiff=ot;var st=void 0;function format$1(t,e){return st||(st=new rt),st.format(t,e)}var ct=Object.freeze({default:rt,format:format$1}),ut={add:"add",remove:"remove",replace:"replace",move:"move"},ft=function(t){function JSONFormatter(){classCallCheck(this,JSONFormatter);var t=possibleConstructorReturn(this,(JSONFormatter.__proto__||Object.getPrototypeOf(JSONFormatter)).call(this));return t.includeMoveDestinations=!0,t}return inherits(JSONFormatter,t),r(JSONFormatter,[{key:"prepareContext",value:function prepareContext(t){i(JSONFormatter.prototype.__proto__||Object.getPrototypeOf(JSONFormatter.prototype),"prepareContext",this).call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t){var e=t.op,n=t.value,r={op:e,path:this.currentPath()};"undefined"!==typeof n&&(r.value=n),this.result.push(r)},t.pushMoveOp=function(t){var e=this.currentPath();this.result.push({op:ut.move,from:e,path:this.toPath(t)})},t.currentPath=function(){return"/"+this.path.join("/")},t.toPath=function(t){var e=this.path.slice();return e[e.length-1]=t,"/"+e.join("/")}}},{key:"typeFormattterErrorFormatter",value:function typeFormattterErrorFormatter(t,e){t.out("[ERROR] "+e)}},{key:"rootBegin",value:function rootBegin(){}},{key:"rootEnd",value:function rootEnd(){}},{key:"nodeBegin",value:function nodeBegin(t,e,n){t.path.push(n)}},{key:"nodeEnd",value:function nodeEnd(t){t.path.pop()}},{key:"format_unchanged",value:function format_unchanged(){}},{key:"format_movedestination",value:function format_movedestination(){}},{key:"format_node",value:function format_node(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function format_added(t,e){t.pushCurrentOp({op:ut.add,value:e[0]})}},{key:"format_modified",value:function format_modified(t,e){t.pushCurrentOp({op:ut.replace,value:e[1]})}},{key:"format_deleted",value:function format_deleted(t){t.pushCurrentOp({op:ut.remove})}},{key:"format_moved",value:function format_moved(t,e){var n=e[1];t.pushMoveOp(n)}},{key:"format_textdiff",value:function format_textdiff(){throw new Error("Not implemented")}},{key:"format",value:function format(t,e){var n={};return this.prepareContext(n),this.recurse(n,t,e),n.result}}]),JSONFormatter}(Z),lt=function last(t){return t[t.length-1]},dt=function sortBy(t,e){return t.sort(e),t},ht=function compareByIndexDesc(t,e){var n=parseInt(t,10),r=parseInt(e,10);return isNaN(n)||isNaN(r)?0:r-n},pt=function opsByDescendingOrder(t){return dt(t,(function(t,e){var n=t.path.split("/"),r=e.path.split("/");return n.length!==r.length?n.length-r.length:ht(lt(n),lt(r))}))},yt=function partitionOps(t,e){var n=Array(e.length+1).fill().map((function(){return[]}));return t.map((function(t){var n=e.map((function(e){return e(t)})).indexOf(!0);return n<0&&(n=e.length),{item:t,position:n}})).reduce((function(t,e){return t[e.position].push(e.item),t}),n)},vt=function isMoveOp(t){return"move"===t.op},gt=function isRemoveOp(t){return"remove"===t.op},mt=function reorderOps(t){var e=yt(t,[vt,gt]),n=a(e,3),r=n[0],i=n[1],o=n[2],s=pt(i);return[].concat(toConsumableArray(s),toConsumableArray(r),toConsumableArray(o))},bt=void 0,_t=function format(t,e){return bt||(bt=new ft),mt(bt.format(t,e))},At=function log(t,e){console.log(_t(t,e))},jt=Object.freeze({default:ft,partitionOps:yt,format:_t,log:At});function chalkColor(t){return e&&e[t]||function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}}var kt={added:chalkColor("green"),deleted:chalkColor("red"),movedestination:chalkColor("gray"),moved:chalkColor("yellow"),unchanged:chalkColor("gray"),error:chalkColor("white.bgRed"),textDiffLine:chalkColor("gray")},Ot=function(t){function ConsoleFormatter(){classCallCheck(this,ConsoleFormatter);var t=possibleConstructorReturn(this,(ConsoleFormatter.__proto__||Object.getPrototypeOf(ConsoleFormatter)).call(this));return t.includeMoveDestinations=!1,t}return inherits(ConsoleFormatter,t),r(ConsoleFormatter,[{key:"prepareContext",value:function prepareContext(t){i(ConsoleFormatter.prototype.__proto__||Object.getPrototypeOf(ConsoleFormatter.prototype),"prepareContext",this).call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+("undefined"===typeof t?1:t),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},t.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},t.out=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,i=e.length;r<i;r++){var a=e[r].split("\n").join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(a=this.color[0](a)),this.buffer.push(a)}},t.pushColor=function(t){this.color=this.color||[],this.color.unshift(t)},t.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function typeFormattterErrorFormatter(t,e){t.pushColor(kt.error),t.out("[ERROR]"+e),t.popColor()}},{key:"formatValue",value:function formatValue(t,e){t.out(JSON.stringify(e,null,2))}},{key:"formatTextDiffString",value:function formatTextDiffString(t,e){var n=this.parseTextDiff(e);t.indent();for(var r=0,i=n.length;r<i;r++){var a=n[r];t.pushColor(kt.textDiffLine),t.out(a.location.line+","+a.location.chr+" "),t.popColor();for(var o=a.pieces,s=0,c=o.length;s<c;s++){var u=o[s];t.pushColor(kt[u.type]),t.out(u.text),t.popColor()}r<i-1&&t.outLine()}t.indent(-1)}},{key:"rootBegin",value:function rootBegin(t,e,n){t.pushColor(kt[e]),"node"===e&&(t.out("array"===n?"[":"{"),t.indent())}},{key:"rootEnd",value:function rootEnd(t,e,n){"node"===e&&(t.indent(-1),t.out("array"===n?"]":"}")),t.popColor()}},{key:"nodeBegin",value:function nodeBegin(t,e,n,r,i){t.pushColor(kt[r]),t.out(n+": "),"node"===r&&(t.out("array"===i?"[":"{"),t.indent())}},{key:"nodeEnd",value:function nodeEnd(t,e,n,r,i,a){"node"===r&&(t.indent(-1),t.out("array"===i?"]":"}"+(a?"":","))),a||t.outLine(),t.popColor()}},{key:"format_unchanged",value:function format_unchanged(t,e,n){"undefined"!==typeof n&&this.formatValue(t,n)}},{key:"format_movedestination",value:function format_movedestination(t,e,n){"undefined"!==typeof n&&this.formatValue(t,n)}},{key:"format_node",value:function format_node(t,e,n){this.formatDeltaChildren(t,e,n)}},{key:"format_added",value:function format_added(t,e){this.formatValue(t,e[0])}},{key:"format_modified",value:function format_modified(t,e){t.pushColor(kt.deleted),this.formatValue(t,e[0]),t.popColor(),t.out(" => "),t.pushColor(kt.added),this.formatValue(t,e[1]),t.popColor()}},{key:"format_deleted",value:function format_deleted(t,e){this.formatValue(t,e[0])}},{key:"format_moved",value:function format_moved(t,e){t.out("==> "+e[1])}},{key:"format_textdiff",value:function format_textdiff(t,e){this.formatTextDiffString(t,e[0])}}]),ConsoleFormatter}(Z),Mt=void 0,Ct=function format(t,e){return Mt||(Mt=new Ot),Mt.format(t,e)};function log$1(t,e){console.log(Ct(t,e))}var xt=Object.freeze({default:Ot,format:Ct,log:log$1}),St=Object.freeze({base:J,html:nt,annotated:ct,jsonpatch:jt,console:xt});function dateReviver(t,e){var n=void 0;return"string"===typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e}function create(t){return new z(t)}var wt=void 0;function diff(){return wt||(wt=new z),wt.diff.apply(wt,arguments)}function patch(){return wt||(wt=new z),wt.patch.apply(wt,arguments)}function unpatch(){return wt||(wt=new z),wt.unpatch.apply(wt,arguments)}function reverse(){return wt||(wt=new z),wt.reverse.apply(wt,arguments)}function clone$1(){return wt||(wt=new z),wt.clone.apply(wt,arguments)}t.DiffPatcher=z,t.formatters=St,t.console=xt,t.create=create,t.dateReviver=dateReviver,t.diff=diff,t.patch=patch,t.unpatch=unpatch,t.reverse=reverse,t.clone=clone$1,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("./node_modules/jsondiffpatch/dist/empty.js"))},"./node_modules/lodash.flatten/index.js":(t,e,n)=>{var r=9007199254740991,i="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();function arrayPush(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var f=Object.prototype,l=f.hasOwnProperty,d=f.toString,h=u.Symbol,p=f.propertyIsEnumerable,y=h?h.isConcatSpreadable:void 0;function baseFlatten(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=isFlattenable),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?baseFlatten(s,e-1,n,r,i):arrayPush(i,s):r||(i[i.length]=s)}return i}function isFlattenable(t){return v(t)||function isArguments(t){return function isArrayLikeObject(t){return function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&function isArrayLike(t){return null!=t&&function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function isFunction(t){var e=function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==a||e==o}(t)}(t)}(t)&&l.call(t,"callee")&&(!p.call(t,"callee")||d.call(t)==i)}(t)||!!(y&&t&&t[y])}var v=Array.isArray;t.exports=function flatten(t){return(t?t.length:0)?baseFlatten(t,1):[]}},"./node_modules/lodash.foreach/index.js":t=>{var e=9007199254740991,n="[object Arguments]",r="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function arrayEach(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}var o=Object.prototype,s=o.hasOwnProperty,c=o.toString,u=o.propertyIsEnumerable,f=function overArg(t,e){return function(n){return t(e(n))}}(Object.keys,Object);function arrayLikeKeys(t,e){var r=h(t)||function isArguments(t){return function isArrayLikeObject(t){return function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&isArrayLike(t)}(t)&&s.call(t,"callee")&&(!u.call(t,"callee")||c.call(t)==n)}(t)?function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=r.length,a=!!i;for(var o in t)!e&&!s.call(t,o)||a&&("length"==o||isIndex(o,i))||r.push(o);return r}var l=function createBaseEach(t,e){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function baseForOwn(t,e){return t&&d(t,e,keys)})),d=function createBaseFor(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(!1===n(a[c],c,a))break}return e}}();function baseKeys(t){if(!function isPrototype(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||o;return t===n}(t))return f(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}function isIndex(t,n){return!!(n=null==n?e:n)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<n}var h=Array.isArray;function isArrayLike(t){return null!=t&&function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function isFunction(t){var e=function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?c.call(t):"";return e==r||e==i}(t)}function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function identity(t){return t}t.exports=function forEach(t,e){return(h(t)?arrayEach:l)(t,"function"==typeof e?e:identity)}},"./node_modules/lodash.isequal/index.js":(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Null]",m="[object Object]",b="[object Promise]",_="[object Proxy]",A="[object RegExp]",j="[object Set]",k="[object String]",O="[object Symbol]",M="[object Undefined]",C="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",w=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[s]=P[c]=P[x]=P[f]=P[S]=P[l]=P[d]=P[h]=P[y]=P[v]=P[m]=P[A]=P[j]=P[k]=P[C]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,D="object"==typeof self&&self&&self.Object===Object&&self,R=E||D||Function("return this")(),F=e&&!e.nodeType&&e,B=F&&t&&!t.nodeType&&t,T=B&&B.exports===F,N=T&&E.process,L=function(){try{return N&&N.binding&&N.binding("util")}catch(t){}}(),V=L&&L.isTypedArray;function arraySome(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var $=Array.prototype,H=Function.prototype,z=Object.prototype,q=R["__core-js_shared__"],K=H.toString,G=z.hasOwnProperty,U=function(){var t=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),W=z.toString,Z=RegExp("^"+K.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=T?R.Buffer:void 0,Q=R.Symbol,X=R.Uint8Array,Y=z.propertyIsEnumerable,tt=$.splice,et=Q?Q.toStringTag:void 0,nt=Object.getOwnPropertySymbols,rt=J?J.isBuffer:void 0,it=function overArg(t,e){return function(n){return t(e(n))}}(Object.keys,Object),at=getNative(R,"DataView"),ot=getNative(R,"Map"),st=getNative(R,"Promise"),ct=getNative(R,"Set"),ut=getNative(R,"WeakMap"),ft=getNative(Object,"create"),lt=toSource(at),dt=toSource(ot),ht=toSource(st),pt=toSource(ct),yt=toSource(ut),vt=Q?Q.prototype:void 0,gt=vt?vt.valueOf:void 0;function Hash(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ListCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function MapCache(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function SetCache(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new MapCache;++e<n;)this.add(t[e])}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}function arrayLikeKeys(t,e){var n=At(t),r=!n&&_t(t),i=!n&&!r&&jt(t),a=!n&&!r&&!i&&kt(t),o=n||r||i||a,s=o?function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=s.length;for(var u in t)!e&&!G.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||isIndex(u,c))||s.push(u);return s}function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq(t[n][0],e))return n;return-1}function baseGetTag(t){return null==t?void 0===t?M:g:et&&et in Object(t)?function getRawTag(t){var e=G.call(t,et),n=t[et];try{t[et]=void 0;var r=!0}catch(a){}var i=W.call(t);r&&(e?t[et]=n:delete t[et]);return i}(t):function objectToString(t){return W.call(t)}(t)}function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==s}function baseIsEqual(t,e,n,r,o){return t===e||(null==t||null==e||!isObjectLike(t)&&!isObjectLike(e)?t!==t&&e!==e:function baseIsEqualDeep(t,e,n,r,o,u){var h=At(t),p=At(e),g=h?c:bt(t),b=p?c:bt(e),_=(g=g==s?m:g)==m,M=(b=b==s?m:b)==m,C=g==b;if(C&&jt(t)){if(!jt(e))return!1;h=!0,_=!1}if(C&&!_)return u||(u=new Stack),h||kt(t)?equalArrays(t,e,n,r,o,u):function equalByTag(t,e,n,r,o,s,c){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!s(new X(t),new X(e)));case f:case l:case v:return eq(+t,+e);case d:return t.name==e.name&&t.message==e.message;case A:case k:return t==e+"";case y:var u=mapToArray;case j:var h=r&i;if(u||(u=setToArray),t.size!=e.size&&!h)return!1;var p=c.get(t);if(p)return p==e;r|=a,c.set(t,e);var g=equalArrays(u(t),u(e),r,o,s,c);return c.delete(t),g;case O:if(gt)return gt.call(t)==gt.call(e)}return!1}(t,e,g,n,r,o,u);if(!(n&i)){var w=_&&G.call(t,"__wrapped__"),I=M&&G.call(e,"__wrapped__");if(w||I){var P=w?t.value():t,E=I?e.value():e;return u||(u=new Stack),o(P,E,n,r,u)}}if(!C)return!1;return u||(u=new Stack),function equalObjects(t,e,n,r,a,o){var s=n&i,c=getAllKeys(t),u=c.length,f=getAllKeys(e),l=f.length;if(u!=l&&!s)return!1;var d=u;for(;d--;){var h=c[d];if(!(s?h in e:G.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var y=!0;o.set(t,e),o.set(e,t);var v=s;for(;++d<u;){var g=t[h=c[d]],m=e[h];if(r)var b=s?r(m,g,h,e,t,o):r(g,m,h,t,e,o);if(!(void 0===b?g===m||a(g,m,n,r,o):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var _=t.constructor,A=e.constructor;_==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(y=!1)}return o.delete(t),o.delete(e),y}(t,e,n,r,o,u)}(t,e,n,r,baseIsEqual,o))}function baseIsNative(t){return!(!isObject(t)||function isMasked(t){return!!U&&U in t}(t))&&(isFunction(t)?Z:w).test(toSource(t))}function baseKeys(t){if(!function isPrototype(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||z;return t===n}(t))return it(t);var e=[];for(var n in Object(t))G.call(t,n)&&"constructor"!=n&&e.push(n);return e}function equalArrays(t,e,n,r,o,s){var c=n&i,u=t.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var d=-1,h=!0,p=n&a?new SetCache:void 0;for(s.set(t,e),s.set(e,t);++d<u;){var y=t[d],v=e[d];if(r)var g=c?r(v,y,d,e,t,s):r(y,v,d,t,e,s);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!arraySome(e,(function(t,e){if(i=e,!p.has(i)&&(y===t||o(y,t,n,r,s)))return p.push(e);var i}))){h=!1;break}}else if(y!==v&&!o(y,v,n,r,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function getAllKeys(t){return function baseGetAllKeys(t,e,n){var r=e(t);return At(t)?r:function arrayPush(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,keys,mt)}function getMapData(t,e){var n=t.__data__;return function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function getNative(t,e){var n=function getValue(t,e){return null==t?void 0:t[e]}(t,e);return baseIsNative(n)?n:void 0}Hash.prototype.clear=function hashClear(){this.__data__=ft?ft(null):{},this.size=0},Hash.prototype.delete=function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hash.prototype.get=function hashGet(t){var e=this.__data__;if(ft){var n=e[t];return n===r?void 0:n}return G.call(e,t)?e[t]:void 0},Hash.prototype.has=function hashHas(t){var e=this.__data__;return ft?void 0!==e[t]:G.call(e,t)},Hash.prototype.set=function hashSet(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ft&&void 0===e?r:e,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);return!(n<0)&&(n==e.length-1?e.pop():tt.call(e,n,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?void 0:e[n][1]},ListCache.prototype.has=function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function listCacheSet(t,e){var n=this.__data__,r=assocIndexOf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(ot||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e},MapCache.prototype.get=function mapCacheGet(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function mapCacheHas(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function mapCacheSet(t,e){var n=getMapData(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(t){return this.__data__.set(t,r),this},SetCache.prototype.has=function setCacheHas(t){return this.__data__.has(t)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Stack.prototype.get=function stackGet(t){return this.__data__.get(t)},Stack.prototype.has=function stackHas(t){return this.__data__.has(t)},Stack.prototype.set=function stackSet(t,e){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!ot||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(t,e),this.size=n.size,this};var mt=nt?function(t){return null==t?[]:(t=Object(t),function arrayFilter(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}(nt(t),(function(e){return Y.call(t,e)})))}:function stubArray(){return[]},bt=baseGetTag;function isIndex(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function toSource(t){if(null!=t){try{return K.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function eq(t,e){return t===e||t!==t&&e!==e}(at&&bt(new at(new ArrayBuffer(1)))!=S||ot&&bt(new ot)!=y||st&&bt(st.resolve())!=b||ct&&bt(new ct)!=j||ut&&bt(new ut)!=C)&&(bt=function(t){var e=baseGetTag(t),n=e==m?t.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case lt:return S;case dt:return y;case ht:return b;case pt:return j;case yt:return C}return e});var _t=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&G.call(t,"callee")&&!Y.call(t,"callee")},At=Array.isArray;var jt=rt||function stubFalse(){return!1};function isFunction(t){if(!isObject(t))return!1;var e=baseGetTag(t);return e==h||e==p||e==u||e==_}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function isObjectLike(t){return null!=t&&"object"==typeof t}var kt=V?function baseUnary(t){return function(e){return t(e)}}(V):function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!P[baseGetTag(t)]};function keys(t){return function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}(t)?arrayLikeKeys(t):baseKeys(t)}t.exports=function isEqual(t,e){return baseIsEqual(t,e)}},"./node_modules/lodash.isnil/index.js":t=>{t.exports=function isNil(t){return null==t}},"./node_modules/lodash.sortby/index.js":(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=1,a=2,o=1/0,s=9007199254740991,c="[object Arguments]",u="[object Array]",f="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Object]",m="[object Promise]",b="[object RegExp]",_="[object Set]",A="[object String]",j="[object Symbol]",k="[object WeakMap]",O="[object ArrayBuffer]",M="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,S=/^\./,w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,P=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[c]=D[u]=D[O]=D[f]=D[M]=D[l]=D[d]=D[h]=D[y]=D[v]=D[g]=D[b]=D[_]=D[A]=D[k]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,B=R||F||Function("return this")(),T=e&&!e.nodeType&&e,N=T&&t&&!t.nodeType&&t,L=N&&N.exports===T&&R.process,V=function(){try{return L&&L.binding("util")}catch(t){}}(),$=V&&V.isTypedArray;function arrayMap(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function arrayPush(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function arraySome(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function baseUnary(t){return function(e){return t(e)}}function isHostObject(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function mapToArray(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var H=Array.prototype,z=Function.prototype,q=Object.prototype,K=B["__core-js_shared__"],G=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),U=z.toString,W=q.hasOwnProperty,Z=q.toString,J=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=B.Symbol,X=B.Uint8Array,Y=q.propertyIsEnumerable,tt=H.splice,et=Q?Q.isConcatSpreadable:void 0,nt=function overArg(t,e){return function(n){return t(e(n))}}(Object.keys,Object),rt=Math.max,it=getNative(B,"DataView"),at=getNative(B,"Map"),ot=getNative(B,"Promise"),st=getNative(B,"Set"),ct=getNative(B,"WeakMap"),ut=getNative(Object,"create"),ft=toSource(it),lt=toSource(at),dt=toSource(ot),ht=toSource(st),pt=toSource(ct),yt=Q?Q.prototype:void 0,vt=yt?yt.valueOf:void 0,gt=yt?yt.toString:void 0;function Hash(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ListCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function MapCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function SetCache(t){var e=-1,n=t?t.length:0;for(this.__data__=new MapCache;++e<n;)this.add(t[e])}function Stack(t){this.__data__=new ListCache(t)}function arrayLikeKeys(t,e){var n=kt(t)||isArguments(t)?function baseTimes(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!W.call(t,a)||i&&("length"==a||isIndex(a,r))||n.push(a);return n}function assocIndexOf(t,e){for(var n=t.length;n--;)if(eq(t[n][0],e))return n;return-1}Hash.prototype.clear=function hashClear(){this.__data__=ut?ut(null):{}},Hash.prototype.delete=function hashDelete(t){return this.has(t)&&delete this.__data__[t]},Hash.prototype.get=function hashGet(t){var e=this.__data__;if(ut){var n=e[t];return n===r?void 0:n}return W.call(e,t)?e[t]:void 0},Hash.prototype.has=function hashHas(t){var e=this.__data__;return ut?void 0!==e[t]:W.call(e,t)},Hash.prototype.set=function hashSet(t,e){return this.__data__[t]=ut&&void 0===e?r:e,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);return!(n<0)&&(n==e.length-1?e.pop():tt.call(e,n,1),!0)},ListCache.prototype.get=function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?void 0:e[n][1]},ListCache.prototype.has=function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function listCacheSet(t,e){var n=this.__data__,r=assocIndexOf(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(at||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(t){return getMapData(this,t).delete(t)},MapCache.prototype.get=function mapCacheGet(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function mapCacheHas(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(t){return this.__data__.set(t,r),this},SetCache.prototype.has=function setCacheHas(t){return this.__data__.has(t)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache},Stack.prototype.delete=function stackDelete(t){return this.__data__.delete(t)},Stack.prototype.get=function stackGet(t){return this.__data__.get(t)},Stack.prototype.has=function stackHas(t){return this.__data__.has(t)},Stack.prototype.set=function stackSet(t,e){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!at||r.length<199)return r.push([t,e]),this;n=this.__data__=new MapCache(r)}return n.set(t,e),this};var mt=function createBaseEach(t,e){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function baseForOwn(t,e){return t&&bt(t,e,keys)}));function baseFlatten(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=isFlattenable),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?baseFlatten(s,e-1,n,r,i):arrayPush(i,s):r||(i[i.length]=s)}return i}var bt=function createBaseFor(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var c=o[t?s:++i];if(!1===n(a[c],c,a))break}return e}}();function baseGet(t,e){for(var n=0,r=(e=isKey(e,t)?[e]:castPath(e)).length;null!=t&&n<r;)t=t[toKey(e[n++])];return n&&n==r?t:void 0}function baseHasIn(t,e){return null!=t&&e in Object(t)}function baseIsEqual(t,e,n,r,o){return t===e||(null==t||null==e||!isObject(t)&&!isObjectLike(e)?t!==t&&e!==e:function baseIsEqualDeep(t,e,n,r,o,s){var h=kt(t),p=kt(e),m=u,k=u;h||(m=(m=_t(t))==c?g:m);p||(k=(k=_t(e))==c?g:k);var C=m==g&&!isHostObject(t),x=k==g&&!isHostObject(e),S=m==k;if(S&&!C)return s||(s=new Stack),h||Ot(t)?equalArrays(t,e,n,r,o,s):function equalByTag(t,e,n,r,o,s,c){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!r(new X(t),new X(e)));case f:case l:case v:return eq(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case A:return t==e+"";case y:var u=mapToArray;case _:var h=s&a;if(u||(u=setToArray),t.size!=e.size&&!h)return!1;var p=c.get(t);if(p)return p==e;s|=i,c.set(t,e);var g=equalArrays(u(t),u(e),r,o,s,c);return c.delete(t),g;case j:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,m,n,r,o,s);if(!(o&a)){var w=C&&W.call(t,"__wrapped__"),I=x&&W.call(e,"__wrapped__");if(w||I){var P=w?t.value():t,E=I?e.value():e;return s||(s=new Stack),n(P,E,r,o,s)}}if(!S)return!1;return s||(s=new Stack),function equalObjects(t,e,n,r,i,o){var s=i&a,c=keys(t),u=c.length,f=keys(e),l=f.length;if(u!=l&&!s)return!1;var d=u;for(;d--;){var h=c[d];if(!(s?h in e:W.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var y=!0;o.set(t,e),o.set(e,t);var v=s;for(;++d<u;){var g=t[h=c[d]],m=e[h];if(r)var b=s?r(m,g,h,e,t,o):r(g,m,h,t,e,o);if(!(void 0===b?g===m||n(g,m,r,i,o):b)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var _=t.constructor,A=e.constructor;_==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(y=!1)}return o.delete(t),o.delete(e),y}(t,e,n,r,o,s)}(t,e,baseIsEqual,n,r,o))}function baseIsNative(t){return!(!isObject(t)||function isMasked(t){return!!G&&G in t}(t))&&(isFunction(t)||isHostObject(t)?J:P).test(toSource(t))}function baseIteratee(t){return"function"==typeof t?t:null==t?identity:"object"==typeof t?kt(t)?function baseMatchesProperty(t,e){if(isKey(t)&&isStrictComparable(e))return matchesStrictComparable(toKey(t),e);return function(n){var r=function get(t,e,n){var r=null==t?void 0:baseGet(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?function hasIn(t,e){return null!=t&&function hasPath(t,e,n){e=isKey(e,t)?[e]:castPath(e);var r,i=-1,a=e.length;for(;++i<a;){var o=toKey(e[i]);if(!(r=null!=t&&n(t,o)))break;t=t[o]}if(r)return r;a=t?t.length:0;return!!a&&isLength(a)&&isIndex(o,a)&&(kt(t)||isArguments(t))}(t,e,baseHasIn)}(n,t):baseIsEqual(e,r,void 0,i|a)}}(t[0],t[1]):function baseMatches(t){var e=function getMatchData(t){var e=keys(t),n=e.length;for(;n--;){var r=e[n],i=t[r];e[n]=[r,i,isStrictComparable(i)]}return e}(t);if(1==e.length&&e[0][2])return matchesStrictComparable(e[0][0],e[0][1]);return function(n){return n===t||function baseIsMatch(t,e,n,r){var o=n.length,s=o,c=!r;if(null==t)return!s;for(t=Object(t);o--;){var u=n[o];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var f=(u=n[o])[0],l=t[f],d=u[1];if(c&&u[2]){if(void 0===l&&!(f in t))return!1}else{var h=new Stack;if(r)var p=r(l,d,f,t,e,h);if(!(void 0===p?baseIsEqual(d,l,r,i|a,h):p))return!1}}return!0}(n,t,e)}}(t):function property(t){return isKey(t)?function baseProperty(t){return function(e){return null==e?void 0:e[t]}}(toKey(t)):function basePropertyDeep(t){return function(e){return baseGet(e,t)}}(t)}(t)}function baseKeys(t){if(!function isPrototype(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||q;return t===n}(t))return nt(t);var e=[];for(var n in Object(t))W.call(t,n)&&"constructor"!=n&&e.push(n);return e}function baseOrderBy(t,e,n){var r=-1;e=arrayMap(e.length?e:[identity],baseUnary(baseIteratee));var i=function baseMap(t,e){var n=-1,r=isArrayLike(t)?Array(t.length):[];return mt(t,(function(t,i,a){r[++n]=e(t,i,a)})),r}(t,(function(t,n,i){return{criteria:arrayMap(e,(function(e){return e(t)})),index:++r,value:t}}));return function baseSortBy(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function compareMultiple(t,e,n){var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;for(;++r<o;){var c=compareAscending(i[r],a[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function castPath(t){return kt(t)?t:At(t)}function compareAscending(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,a=isSymbol(t),o=void 0!==e,s=null===e,c=e===e,u=isSymbol(e);if(!s&&!u&&!a&&t>e||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0}function equalArrays(t,e,n,r,o,s){var c=o&a,u=t.length,f=e.length;if(u!=f&&!(c&&f>u))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var d=-1,h=!0,p=o&i?new SetCache:void 0;for(s.set(t,e),s.set(e,t);++d<u;){var y=t[d],v=e[d];if(r)var g=c?r(v,y,d,e,t,s):r(y,v,d,t,e,s);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!arraySome(e,(function(t,e){if(!p.has(e)&&(y===t||n(y,t,r,o,s)))return p.add(e)}))){h=!1;break}}else if(y!==v&&!n(y,v,r,o,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function getMapData(t,e){var n=t.__data__;return function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function getNative(t,e){var n=function getValue(t,e){return null==t?void 0:t[e]}(t,e);return baseIsNative(n)?n:void 0}var _t=function baseGetTag(t){return Z.call(t)};function isFlattenable(t){return kt(t)||isArguments(t)||!!(et&&t&&t[et])}function isIndex(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function isIterateeCall(t,e,n){if(!isObject(n))return!1;var r=typeof e;return!!("number"==r?isArrayLike(n)&&isIndex(e,n.length):"string"==r&&e in n)&&eq(n[e],t)}function isKey(t,e){if(kt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!isSymbol(t))||(x.test(t)||!C.test(t)||null!=e&&t in Object(e))}function isStrictComparable(t){return t===t&&!isObject(t)}function matchesStrictComparable(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(it&&_t(new it(new ArrayBuffer(1)))!=M||at&&_t(new at)!=y||ot&&_t(ot.resolve())!=m||st&&_t(new st)!=_||ct&&_t(new ct)!=k)&&(_t=function(t){var e=Z.call(t),n=e==g?t.constructor:void 0,r=n?toSource(n):void 0;if(r)switch(r){case ft:return M;case lt:return y;case dt:return m;case ht:return _;case pt:return k}return e});var At=memoize((function(t){t=function toString(t){return null==t?"":function baseToString(t){if("string"==typeof t)return t;if(isSymbol(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(t)}(t);var e=[];return S.test(t)&&e.push(""),t.replace(w,(function(t,n,r,i){e.push(r?i.replace(I,"$1"):n||t)})),e}));function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function toSource(t){if(null!=t){try{return U.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var jt=function baseRest(t,e){return e=rt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=rt(n.length-e,0),a=Array(i);++r<i;)a[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=a,function apply(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,o)}}((function(t,e){if(null==t)return[];var n=e.length;return n>1&&isIterateeCall(t,e[0],e[1])?e=[]:n>2&&isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(t,baseFlatten(e,1),[])}));function memoize(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var memoized=function(){var n=arguments,r=e?e.apply(this,n):n[0],i=memoized.cache;if(i.has(r))return i.get(r);var a=t.apply(this,n);return memoized.cache=i.set(r,a),a};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(t,e){return t===e||t!==t&&e!==e}function isArguments(t){return function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}(t)&&W.call(t,"callee")&&(!Y.call(t,"callee")||Z.call(t)==c)}memoize.Cache=MapCache;var kt=Array.isArray;function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isFunction(t){var e=isObject(t)?Z.call(t):"";return e==h||e==p}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&Z.call(t)==j}var Ot=$?baseUnary($):function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!D[Z.call(t)]};function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function identity(t){return t}t.exports=jt},"./node_modules/lodash.uniqwith/index.js":(t,e,n)=>{var r=200,i="__lodash_hash_undefined__",a="[object Function]",o="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,f=c||u||Function("return this")();function arrayIncludes(t,e){return!!(t?t.length:0)&&function baseIndexOf(t,e,n){if(e!==e)return function baseFindIndex(t,e,n,r){var i=t.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}(t,baseIsNaN,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function arrayIncludesWith(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function baseIsNaN(t){return t!==t}function cacheHas(t,e){return t.has(e)}function setToArray(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var l=Array.prototype,d=Function.prototype,h=Object.prototype,p=f["__core-js_shared__"],y=function(){var t=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),v=d.toString,g=h.hasOwnProperty,m=h.toString,b=RegExp("^"+v.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=l.splice,A=getNative(f,"Map"),j=getNative(f,"Set"),k=getNative(Object,"create");function Hash(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ListCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function MapCache(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function SetCache(t){var e=-1,n=t?t.length:0;for(this.__data__=new MapCache;++e<n;)this.add(t[e])}function assocIndexOf(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!==n&&r!==r)return i;return-1}function baseIsNative(t){if(!isObject(t)||function isMasked(t){return!!y&&y in t}(t))return!1;var e=function isFunction(t){var e=isObject(t)?m.call(t):"";return e==a||e==o}(t)||function isHostObject(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?b:s;return e.test(function toSource(t){if(null!=t){try{return v.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}Hash.prototype.clear=function hashClear(){this.__data__=k?k(null):{}},Hash.prototype.delete=function hashDelete(t){return this.has(t)&&delete this.__data__[t]},Hash.prototype.get=function hashGet(t){var e=this.__data__;if(k){var n=e[t];return n===i?void 0:n}return g.call(e,t)?e[t]:void 0},Hash.prototype.has=function hashHas(t){var e=this.__data__;return k?void 0!==e[t]:g.call(e,t)},Hash.prototype.set=function hashSet(t,e){return this.__data__[t]=k&&void 0===e?i:e,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(t){var e=this.__data__,n=assocIndexOf(e,t);return!(n<0)&&(n==e.length-1?e.pop():_.call(e,n,1),!0)},ListCache.prototype.get=function listCacheGet(t){var e=this.__data__,n=assocIndexOf(e,t);return n<0?void 0:e[n][1]},ListCache.prototype.has=function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function listCacheSet(t,e){var n=this.__data__,r=assocIndexOf(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(A||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(t){return getMapData(this,t).delete(t)},MapCache.prototype.get=function mapCacheGet(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function mapCacheHas(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function mapCacheSet(t,e){return getMapData(this,t).set(t,e),this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(t){return this.__data__.set(t,i),this},SetCache.prototype.has=function setCacheHas(t){return this.__data__.has(t)};var O=j&&1/setToArray(new j([,-0]))[1]==1/0?function(t){return new j(t)}:function noop(){};function getMapData(t,e){var n=t.__data__;return function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function getNative(t,e){var n=function getValue(t,e){return null==t?void 0:t[e]}(t,e);return baseIsNative(n)?n:void 0}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function uniqWith(t,e){return t&&t.length?function baseUniq(t,e,n){var i=-1,a=arrayIncludes,o=t.length,s=!0,c=[],u=c;if(n)s=!1,a=arrayIncludesWith;else if(o>=r){var f=e?null:O(t);if(f)return setToArray(f);s=!1,a=cacheHas,u=new SetCache}else u=e?[]:c;t:for(;++i<o;){var l=t[i],d=e?e(l):l;if(l=n||0!==l?l:0,s&&d===d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),c.push(l)}else a(u,d,n)||(u!==c&&u.push(d),c.push(l))}return c}(t,void 0,e):[]}}}]);
//# sourceMappingURL=9190.9190.092167e2b8cfbc94ea91.js.map