(self.webpackChunkmy_new_custom_application_project=self.webpackChunkmy_new_custom_application_project||[]).push([[5912],{"./src/hooks/use-reviews-connector/fetch-review-details.ctp.graphql":e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchReviewDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"review"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"reviewId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"includedInStatistics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastModifiedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"masterData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"current"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameAllLocales"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:498}};n.loc.source={body:"query FetchReviewDetails($reviewId: String!) {\r\n  review(id: $reviewId) {\r\n    id\r\n    authorName\r\n    version\r\n    key\r\n    rating\r\n    createdAt\r\n    includedInStatistics\r\n    lastModifiedAt\r\n    version\r\n    state{\r\n      key\r\n      type\r\n      roles\r\n    }\r\n    target{\r\n      id\r\n      ... on Product{\r\n        key\r\n        masterData{\r\n          current{\r\n            nameAllLocales {\r\n              locale\r\n              value\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}!function extractReferences(){n.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),i[e.name.value]=n}}))}(),e.exports=n,e.exports.FetchReviewDetails=function oneQuery(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var i=findOperation(e,n);i&&t.definitions.push(i)})),t}(n,"FetchReviewDetails")},"./src/hooks/use-reviews-connector/fetch-reviews.ctp.graphql":e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:262}};n.loc.source={body:"query FetchReviews($limit: Int!, $offset: Int!, $sort: [String!]) {\r\n  reviews(limit: $limit, offset: $offset, sort: $sort) {\r\n    total\r\n    count\r\n    offset\r\n    results {\r\n      id\r\n      key\r\n      rating\r\n      state{\r\n        key\r\n      }\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}!function extractReferences(){n.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),i[e.name.value]=n}}))}(),e.exports=n,e.exports.FetchReviews=function oneQuery(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var i=findOperation(e,n);i&&t.definitions.push(i)})),t}(n,"FetchReviews")},"./src/hooks/use-reviews-connector/update-reiview-details.ctp.graphql":e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateReviewDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"version"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReviewUpdateAction"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"reviewId"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"version"}}},{kind:"Argument",name:{kind:"Name",value:"actions"},value:{kind:"Variable",name:{kind:"Name",value:"actions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"includedInStatistics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastModifiedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"masterData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"current"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameAllLocales"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:607}};n.loc.source={body:"mutation UpdateReviewDetails(\r\n  $reviewId: String!\r\n  $version: Long!\r\n  $actions: [ReviewUpdateAction!]!\r\n) {\r\n  updateReview(id: $reviewId, version: $version, actions: $actions) {\r\n    id\r\n    authorName\r\n    version\r\n    key\r\n    rating\r\n    createdAt\r\n    includedInStatistics\r\n    lastModifiedAt\r\n    version\r\n    state{\r\n      key\r\n      type\r\n      roles\r\n    }\r\n    target{\r\n      id\r\n      ... on Product{\r\n        key\r\n        masterData{\r\n          current{\r\n            nameAllLocales {\r\n              locale\r\n              value\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}!function extractReferences(){n.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),i[e.name.value]=n}}))}(),e.exports=n,e.exports.UpdateReviewDetails=function oneQuery(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var i=findOperation(e,n);i&&t.definitions.push(i)})),t}(n,"UpdateReviewDetails")},"./src/components/reviews/reviews.tsx":(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>F});var t=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),a=i.n(t),r=i("./node_modules/react-intl/lib/src/components/useIntl.js"),o=i("./node_modules/@commercetools-uikit/notifications/dist/commercetools-uikit-notifications.esm.js"),s=i("./src/hooks/use-reviews-connector/index.ts"),l=i("./node_modules/@commercetools-uikit/hooks/dist/commercetools-uikit-hooks.esm.js"),d=i("./src/helpers.ts"),c=i("./node_modules/@commercetools-uikit/text/dist/commercetools-uikit-text.esm.js"),m=i("./node_modules/@commercetools-uikit/pagination/dist/commercetools-uikit-pagination.esm.js"),u=i("./node_modules/@commercetools-uikit/spacings/dist/commercetools-uikit-spacings.esm.js"),v=i("./node_modules/@commercetools-uikit/flat-button/dist/commercetools-uikit-flat-button.esm.js"),k=i("./node_modules/@commercetools-uikit/icons/dist/commercetools-uikit-icons.esm.js"),f=i("./node_modules/@commercetools-uikit/data-table/dist/commercetools-uikit-data-table.esm.js"),p=i("./node_modules/@commercetools-uikit/loading-spinner/dist/commercetools-uikit-loading-spinner.esm.js"),g=i("./node_modules/react-router/esm/react-router.js"),b=i("./node_modules/react-router-dom/esm/react-router-dom.js"),N=i("./node_modules/@commercetools-frontend/application-shell/dist/commercetools-frontend-application-shell.esm.js");const y=(0,i("./node_modules/react-intl/lib/index.js").vU)({backToWelcome:{id:"Reviews.backToWelcome",defaultMessage:"Back to Welcome page"},title:{id:"Reviews.title",defaultMessage:"Reviews list"},noResults:{id:"Reviews.noResults",defaultMessage:"There are no reviews available in this project."}});const h=(0,i("./node_modules/react/index.js").lazy)((()=>Promise.all([i.e(9375),i.e(6022)]).then(i.bind(i,"./src/components/review-details/review-details.tsx"))));var S=i("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w=[{key:"id",label:"Review ID"},{key:"key",label:"Review key",isSortable:!0},{key:"rating",label:"Review Rating",isSortable:!0},{key:"state",label:"Review State",isSortable:!0}],Reviews=e=>{const n=(0,r.Z)(),i=(0,g.$B)(),t=(0,g.k6)().push,F=(0,l.nU)(),j=F.page,R=F.perPage,_=(0,l.Bx)({key:"key",order:"asc"}),D=(0,s.Gg)({page:j,perPage:R,tableSorting:_}),E=D.reviewsPaginatedResult,T=D.error,O=D.loading;return console.log(E),T?(0,S.tZ)(o.I,{type:"error",children:(0,S.tZ)(c.Z.Body,{children:(0,d.e$)(T)})}):(0,S.BX)(u.Z.Stack,{scale:"xl",children:[(0,S.BX)(u.Z.Stack,{scale:"xs",children:[(0,S.tZ)(v.Z,{as:b.rU,to:e.linkToWelcome,label:n.formatMessage(y.backToWelcome),icon:(0,S.tZ)(k.xC,{})}),(0,S.tZ)(c.Z.Headline,{as:"h2",intlMessage:y.title})]}),O&&(0,S.tZ)(p.Z,{}),E?(0,S.BX)(u.Z.Stack,{scale:"l",children:[(0,S.tZ)(f.ZP,{isCondensed:!0,columns:w,rows:E.results,itemRenderer:(e,n)=>{switch(n.key){case"id":return e.id;case"key":return e.key;case"rating":return e.rating;case"state":return e.state.key;default:return null}},sortedBy:_.value.key,sortDirection:_.value.order,onSortChange:_.onChange,onRowClick:e=>{var n;return t(a()(n="".concat(i.url,"/")).call(n,e.id))}}),(0,S.tZ)(m.tl,{page:j.value,onPageChange:j.onChange,perPage:R.value,onPerPageChange:R.onChange,totalItems:E.total}),(0,S.tZ)(g.rs,{children:(0,S.tZ)(N.Kv,{path:"".concat(i.url,"/:id"),children:(0,S.tZ)(h,{onClose:()=>t("".concat(i.url))})})})]}):null]})};Reviews.displayName="Reviews";const F=Reviews},"./src/helpers.ts":(e,n,i)=>{"use strict";i.d(n,{B2:()=>convertToActionData,CF:()=>createGraphQlUpdateActions,dF:()=>extractErrorFromGraphQlResponse,e$:()=>getErrorMessage});var t=i("./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"),a=i("./node_modules/@babel/runtime-corejs3/helpers/esm/objectWithoutProperties.js"),r=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js"),o=i.n(r),s=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js"),l=i.n(s),d=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),c=i.n(d),m=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),u=i.n(m),v=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),k=i.n(v),f=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),p=i.n(f),g=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),b=i.n(g),N=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),y=i.n(N),h=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),S=i.n(h),w=i("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js"),F=i.n(w),j=i("./node_modules/@commercetools-frontend/l10n/dist/commercetools-frontend-l10n.esm.js"),R=i("./node_modules/@apollo/client/errors/index.js");const _=["action"];function ownKeys(e,n){var i=c()(e);if(u()){var t=u()(e);n&&(t=k()(t).call(t,(function(n){return p()(e,n).enumerable}))),i.push.apply(i,t)}return i}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var i,a,r=null!=arguments[n]?arguments[n]:{};n%2?b()(i=ownKeys(Object(r),!0)).call(i,(function(n){(0,t.Z)(e,n,r[n])})):y()?S()(e,y()(r)):b()(a=ownKeys(Object(r))).call(a,(function(n){F()(e,n,p()(r,n))}))}return e}const getErrorMessage=e=>{var n;return(null===(n=e.graphQLErrors)||void 0===n?void 0:o()(n).call(n,(e=>e.message)).join("\n"))||e.message},extractErrorFromGraphQlResponse=e=>{if(e instanceof R.cA){var n,i,t,a;if(r=e.networkError,Boolean(null===r||void 0===r?void 0:r.result)&&"string"!==typeof(null===(n=e.networkError)||void 0===n?void 0:n.result)&&(null===(i=e.networkError)||void 0===i||null===(i=i.result)||void 0===i?void 0:i.errors.length)>0)return null===e||void 0===e||null===(a=e.networkError)||void 0===a?void 0:a.result.errors;if((null===(t=e.graphQLErrors)||void 0===t?void 0:t.length)>0)return e.graphQLErrors}var r;return e},isChangeNameActionPayload=e=>void 0!==(null===e||void 0===e?void 0:e.name),convertAction=e=>{const n=e.action,i=(0,a.Z)(e,_);return{[n]:"changeName"===n&&isChangeNameActionPayload(i)?(t=i,{name:(0,j.UK)(t.name)}):i};var t},createGraphQlUpdateActions=e=>l()(e).call(e,((e,n)=>[...e,convertAction(n)]),[]),convertToActionData=e=>_objectSpread(_objectSpread({},e),{},{name:(0,j.sM)(e.nameAllLocales||[])})},"./src/hooks/use-reviews-connector/index.ts":(e,n,i)=>{"use strict";i.d(n,{Mx:()=>useReviewDetailsFetcher,fX:()=>useReviewDetailsUpdater,Gg:()=>useReviewsFetcher});var t=i("./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js"),a=i("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),r=i.n(a),o=i("./node_modules/@babel/runtime-corejs3/core-js-stable/json/stringify.js"),s=i.n(o),l=i("./node_modules/@commercetools-frontend/application-shell/dist/commercetools-frontend-application-shell.esm.js"),d=i("./node_modules/@commercetools-frontend/constants/dist/commercetools-frontend-constants.esm.js"),c=i("./node_modules/@commercetools/sync-actions/dist/sync-actions.umd.js"),m=i("./src/helpers.ts"),u=i("./src/hooks/use-reviews-connector/fetch-reviews.ctp.graphql"),v=i.n(u),k=i("./src/hooks/use-reviews-connector/fetch-review-details.ctp.graphql"),f=i.n(k),p=i("./src/hooks/use-reviews-connector/update-reiview-details.ctp.graphql"),g=i.n(p);(0,c.createSyncChannels)();const useReviewsFetcher=e=>{var n;let i=e.page,t=e.perPage,a=e.tableSorting;const o=(0,l.VK)(v(),{variables:{limit:t.value,offset:(i.value-1)*t.value,sort:[r()(n="".concat(a.value.key," ")).call(n,a.value.order)]},context:{target:d.C5.COMMERCETOOLS_PLATFORM}}),s=o.data,c=o.error,m=o.loading;return{reviewsPaginatedResult:null===s||void 0===s?void 0:s.reviews,error:c,loading:m}},useReviewDetailsFetcher=e=>{const n=(0,l.VK)(f(),{variables:{reviewId:e},context:{target:d.C5.COMMERCETOOLS_PLATFORM}}),i=n.data,t=n.error,a=n.loading;return console.log("data review: "+s()(i)),{review:null===i||void 0===i?void 0:i.review,error:t,loading:a}},useReviewDetailsUpdater=()=>{const e=(0,l.qK)(g()),n=(0,t.Z)(e,2),i=n[0];return{loading:n[1].loading,execute:async e=>{let n=e.originalDraft,t=e.nextDraft;try{return await i({context:{target:d.C5.COMMERCETOOLS_PLATFORM},variables:{reviewId:n.id,version:n.version,actions:{transitionState:{state:{key:t.state}}}}})}catch(a){throw(0,m.dF)(a)}}}}}}]);
//# sourceMappingURL=5912.reviews.e65191cf445b8ffa5a5b.js.map