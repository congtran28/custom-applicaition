{"version":3,"file":"3111.redirect-to-login.737fa8e14ac818710d25.js","mappings":"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","sources":["webpack://my-new-custom-application-project/./node_modules/@commercetools-frontend/application-shell/dist/get-mc-origin-fecfee07.esm.js","webpack://my-new-custom-application-project/./node_modules/@commercetools-frontend/url-utils/dist/commercetools-frontend-url-utils.esm.js","webpack://my-new-custom-application-project/./node_modules/@commercetools-frontend/application-shell/dist/redirect-to-login-111a3b71.esm.js","webpack://my-new-custom-application-project/./node_modules/@commercetools-frontend/application-shell/dist/redirector-368eeb0f.esm.js"],"sourcesContent":["import _slicedToArray from '@babel/runtime-corejs3/helpers/esm/slicedToArray';\nimport _URL from '@babel/runtime-corejs3/core-js-stable/url';\nimport _reverseInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/reverse';\n\n/**\n * Get the \"real\" Merchant Center frontend URL to redirect the user\n * to the login page.\n * We use an explicit full URL so that if a user tries to access the\n * Custom Applications directly to its domain, it will always redirect\n * the user to the login page.\n *\n * To determine the \"real\" URL, we need to check if the current location\n * is a Merchant Center domain, or if it's a custom user domain.\n * For the latter, we can derive the URL from the Merchant Center API URL.\n *\n * A Merchant Center hostname is composed by the following parts:\n *    https://<mc-prefix>.<region>.<provider>.<ct-domain>.<tld>\n * We neeed to check if at least the first 4 parts (right-to-left) are\n * the same.\n */\nfunction getMcOrigin(mcApiUrl) {\n  var _context, _context2;\n  let actualWindow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;\n  const mcApiUrlObject = new _URL(mcApiUrl);\n  const _mcApiUrlObject$hostn = _reverseInstanceProperty(_context = mcApiUrlObject.hostname.split('.')).call(_context),\n    _mcApiUrlObject$hostn2 = _slicedToArray(_mcApiUrlObject$hostn, 4),\n    tldMcApi = _mcApiUrlObject$hostn2[0],\n    ctDomainMcApi = _mcApiUrlObject$hostn2[1],\n    providerMcApi = _mcApiUrlObject$hostn2[2],\n    regionMcApi = _mcApiUrlObject$hostn2[3];\n  const _actualWindow$locatio = _reverseInstanceProperty(_context2 = actualWindow.location.hostname.split('.')).call(_context2),\n    _actualWindow$locatio2 = _slicedToArray(_actualWindow$locatio, 4),\n    tldMc = _actualWindow$locatio2[0],\n    ctDomainMc = _actualWindow$locatio2[1],\n    providerMc = _actualWindow$locatio2[2],\n    regionMc = _actualWindow$locatio2[3];\n  const isMatching = tldMcApi === tldMc && ctDomainMcApi === ctDomainMc && providerMcApi === providerMc && regionMcApi === regionMc;\n  if (isMatching) {\n    return actualWindow.location.origin;\n  }\n  return mcApiUrlObject.origin.replace('mc-api', 'mc');\n}\n\nexport { getMcOrigin as g };\n","import _mapInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/map';\nimport _concatInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/concat';\n\n// NOTE: This string will be replaced on build time with the package version.\nvar version = \"22.3.4\";\n\nconst matchLeadingAndTrailingSlashes = /^\\/|\\/$/g;\nconst trimLeadingAndTrailingSlashes = url => url.replace(matchLeadingAndTrailingSlashes, '');\nconst joinPaths = function () {\n  for (var _len = arguments.length, paths = new Array(_len), _key = 0; _key < _len; _key++) {\n    paths[_key] = arguments[_key];\n  }\n  const joint = _mapInstanceProperty(paths).call(paths, path => {\n    var _context;\n    if (typeof path !== 'string') throw new Error(_concatInstanceProperty(_context = \"Expected path \\\"\".concat(path, \"\\\" to be a \\\"string\\\", but got \\\"\")).call(_context, typeof path, \"\\\"\"));\n    // Trim leading and trailing slash for each single path\n    return trimLeadingAndTrailingSlashes(path);\n  }).join('/');\n  return \"/\".concat(joint);\n};\n\nexport { joinPaths, trimLeadingAndTrailingSlashes, version };\n","import { useLocation } from 'react-router-dom';\nimport { v4 } from 'uuid';\nimport { LOGOUT_REASONS } from '@commercetools-frontend/constants';\nimport { trimLeadingAndTrailingSlashes, joinPaths } from '@commercetools-frontend/url-utils';\nimport { b as OIDC_RESPONSE_TYPES } from './constants-16199962.esm.js';\nimport { u as useIsServedByProxy } from './use-is-served-by-proxy-77984220.esm.js';\nimport { g as getMcOrigin } from './get-mc-origin-fecfee07.esm.js';\nimport { b as buildOidcScope } from './oidc-cd2edc3c.esm.js';\nimport { b as getActiveProjectKey, o as setSessionScope, p as setSessionState } from './configure-apollo-e01b60c3.esm.js';\nimport { R as Redirector } from './redirector-368eeb0f.esm.js';\nimport { jsx } from '@emotion/react/jsx-runtime';\nimport '@commercetools-frontend/application-shell-connectors';\nimport '@babel/runtime-corejs3/helpers/slicedToArray';\nimport '@babel/runtime-corejs3/core-js-stable/url';\nimport '@babel/runtime-corejs3/core-js-stable/instance/reverse';\nimport '@babel/runtime-corejs3/core-js-stable/instance/concat';\nimport '@babel/runtime-corejs3/core-js-stable/instance/map';\nimport '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport '@babel/runtime-corejs3/helpers/defineProperty';\nimport '@babel/runtime-corejs3/core-js-stable/instance/reduce';\nimport '@babel/runtime-corejs3/core-js-stable/object/entries';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/has';\nimport '@reduxjs/toolkit';\nimport 'lodash/mapValues';\nimport 'omit-empty-es';\nimport 'redux-thunk';\nimport '@commercetools-frontend/notifications';\nimport '@commercetools-frontend/sdk';\nimport 'react';\nimport '@babel/runtime-corejs3/core-js-stable/instance/index-of';\nimport '@babel/runtime-corejs3/core-js-stable/instance/slice';\nimport '@babel/runtime-corejs3/core-js-stable/instance/includes';\nimport '@commercetools-frontend/sentry';\nimport '@commercetools-frontend/react-notifications';\nimport '@babel/runtime-corejs3/core-js-stable/instance/starts-with';\nimport 'redux-logger';\nimport '@babel/runtime-corejs3/core-js-stable/instance/find';\nimport '@apollo/client';\nimport 'apollo-link-logger';\nimport '@apollo/client/link/error';\nimport '@commercetools-frontend/browser-history';\nimport '@babel/runtime-corejs3/core-js-stable/array/is-array';\nimport '@babel/runtime-corejs3/core-js-stable/instance/some';\nimport '@babel/runtime-corejs3/core-js-stable/object/values';\nimport '@commercetools/http-user-agent';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/construct';\nimport '@babel/runtime-corejs3/helpers/createClass';\nimport '@babel/runtime-corejs3/helpers/classCallCheck';\nimport '@babel/runtime-corejs3/helpers/assertThisInitialized';\nimport '@babel/runtime-corejs3/helpers/inherits';\nimport '@babel/runtime-corejs3/helpers/possibleConstructorReturn';\nimport '@babel/runtime-corejs3/helpers/getPrototypeOf';\nimport '@babel/runtime-corejs3/helpers/wrapNativeSuper';\nimport '@babel/runtime-corejs3/core-js-stable/json/stringify';\nimport '@apollo/client/link/retry';\nimport 'prop-types';\nimport 'qss';\n\nconst generateAndCacheNonceWithState = state => {\n  const nonce = v4();\n  // We store additional information within the given `nonce`\n  // to then retrieve it later when the IdP redirects back\n  // to our application. The URL will contain the `nonce` within\n  // the id_token and, once validated, we can retrieve and use\n  // the state object.\n  // https://auth0.com/docs/protocols/oauth2/oauth-state#how-to-use-the-parameter-to-restore-application-state\n  setSessionState(nonce, state);\n  return nonce;\n};\nconst RedirectToLogin = () => {\n  var _window$app$__DEVELOP, _window$app$__DEVELOP2;\n  const location = useLocation();\n  const servedByProxy = useIsServedByProxy();\n  if ((_window$app$__DEVELOP = window.app.__DEVELOPMENT__) !== null && _window$app$__DEVELOP !== void 0 && (_window$app$__DEVELOP2 = _window$app$__DEVELOP.oidc) !== null && _window$app$__DEVELOP2 !== void 0 && _window$app$__DEVELOP2.authorizeUrl) {\n    var _window$app$__DEVELOP3, _window$app$__DEVELOP4, _window$app$__DEVELOP5, _window$app$__DEVELOP6, _window$app$__DEVELOP7, _window$app$__DEVELOP8, _window$app$__DEVELOP9, _window$app$__DEVELOP10;\n    // We pick the project key from local storage. This assumes that the value\n    // as been previously set when the application starts up.\n    // This is necessary to allow switching projects and triggering a new login.\n    const nextProjectKey = getActiveProjectKey();\n\n    // According to the OIDC spec, the `state` parameter is recommended to be sent\n    // to the authorization server to help mitigating Cross-Site Request Forgery.\n    // https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n    // Using `state` or `nonce` is very similar but with subtle differences.\n    // Here we follow the approach described by Auth0 on how to use both, where\n    // we generate a `nonce`, store it in session storage together with some state,\n    // and send it to the authorization server as the `state` parameter.\n    // https://auth0.com/docs/protocols/oauth2/redirect-users\n    // Additionally, we still send the `nonce` parameter as well.\n    const sessionId = generateAndCacheNonceWithState({\n      applicationId: window.app.applicationId,\n      // Store query parameters to be used after the callback redirect\n      query: {\n        redirectTo: nextProjectKey ? \"/\".concat(nextProjectKey) : '/'\n      }\n    });\n    const requestedScope = buildOidcScope({\n      projectKey: nextProjectKey !== null && nextProjectKey !== void 0 ? nextProjectKey : undefined,\n      oAuthScopes: (_window$app$__DEVELOP3 = window.app.__DEVELOPMENT__) === null || _window$app$__DEVELOP3 === void 0 ? void 0 : (_window$app$__DEVELOP4 = _window$app$__DEVELOP3.oidc) === null || _window$app$__DEVELOP4 === void 0 ? void 0 : _window$app$__DEVELOP4.oAuthScopes,\n      additionalOAuthScopes: (_window$app$__DEVELOP5 = window.app.__DEVELOPMENT__) === null || _window$app$__DEVELOP5 === void 0 ? void 0 : (_window$app$__DEVELOP6 = _window$app$__DEVELOP5.oidc) === null || _window$app$__DEVELOP6 === void 0 ? void 0 : _window$app$__DEVELOP6.additionalOAuthScopes,\n      teamId: (_window$app$__DEVELOP7 = window.app.__DEVELOPMENT__) === null || _window$app$__DEVELOP7 === void 0 ? void 0 : (_window$app$__DEVELOP8 = _window$app$__DEVELOP7.oidc) === null || _window$app$__DEVELOP8 === void 0 ? void 0 : _window$app$__DEVELOP8.teamId\n    });\n\n    // Store session scopes, to be able to detect if requested scopes changed\n    // in the application config and invalidate the session.\n    // This is only valid for local development.\n    setSessionScope(requestedScope);\n    return jsx(Redirector, {\n      to: \"\",\n      origin: (_window$app$__DEVELOP9 = window.app.__DEVELOPMENT__) === null || _window$app$__DEVELOP9 === void 0 ? void 0 : (_window$app$__DEVELOP10 = _window$app$__DEVELOP9.oidc) === null || _window$app$__DEVELOP10 === void 0 ? void 0 : _window$app$__DEVELOP10.authorizeUrl,\n      location: location,\n      queryParams: {\n        reason: LOGOUT_REASONS.UNAUTHORIZED,\n        // Query parameters for OIDC-lik workflow.\n        client_id: window.app.applicationId,\n        response_type: OIDC_RESPONSE_TYPES.ID_TOKEN,\n        scope: requestedScope,\n        state: sessionId,\n        nonce: sessionId\n      }\n    });\n  }\n  const mcOrigin = servedByProxy ? getMcOrigin(window.app.mcApiUrl) : undefined;\n  return jsx(Redirector, {\n    to: \"login\",\n    origin: mcOrigin,\n    location: location,\n    queryParams: {\n      reason: LOGOUT_REASONS.UNAUTHORIZED,\n      redirectTo: trimLeadingAndTrailingSlashes(joinPaths(window.location.origin, location.pathname))\n    }\n  });\n};\nRedirectToLogin.displayName = 'RedirectToLogin';\n\nexport { RedirectToLogin as default };\n","import _Object$keys from '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport _Object$getOwnPropertySymbols from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport _filterInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport _Object$getOwnPropertyDescriptor from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport _forEachInstanceProperty from '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport _Object$getOwnPropertyDescriptors from '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport _Object$defineProperties from '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport _Object$defineProperty from '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport _defineProperty from '@babel/runtime-corejs3/helpers/esm/defineProperty';\nimport _pt from 'prop-types';\nimport _URL from '@babel/runtime-corejs3/core-js-stable/url';\nimport { useEffect } from 'react';\nimport { encode } from 'qss';\nimport { l as location } from './use-is-served-by-proxy-77984220.esm.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var _context, _context2; var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? _forEachInstanceProperty(_context = ownKeys(Object(source), !0)).call(_context, function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty(_context2 = ownKeys(Object(source))).call(_context2, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst redirectTo = targetUrl => {\n  location.replace(targetUrl);\n};\nconst Redirector = props => {\n  var _props$origin, _props$queryParams, _enhancedLocation$que;\n  // For now the authentication service runs on the same domain as the application,\n  // even on development (using the webpack dev server).\n  const originUrl = (_props$origin = props.origin) !== null && _props$origin !== void 0 ? _props$origin : window.location.origin;\n  const enhancedLocation = props.location || {};\n  const searchQuery = _objectSpread(_objectSpread({}, (_props$queryParams = props.queryParams) !== null && _props$queryParams !== void 0 ? _props$queryParams : {}), (_enhancedLocation$que = enhancedLocation.query) !== null && _enhancedLocation$que !== void 0 ? _enhancedLocation$que : {});\n  const targetUrlObject = new _URL(originUrl);\n  targetUrlObject.pathname = props.to || targetUrlObject.pathname;\n  targetUrlObject.search = \"?\".concat(encode(searchQuery));\n  const targetUrl = targetUrlObject.toString();\n  useEffect(() => {\n    redirectTo(targetUrl);\n  }, [targetUrl]);\n  return null;\n};\nRedirector.propTypes = {\n  to: _pt.string.isRequired,\n  origin: _pt.string,\n  queryParams: _pt.shape({\n    redirectTo: _pt.string,\n    client_id: _pt.string,\n    response_type: _pt.string,\n    scope: _pt.string,\n    state: _pt.string,\n    nonce: _pt.string\n  })\n};\nRedirector.displayName = 'Redirector';\n\nexport { Redirector as R };\n"],"names":["getMcOrigin","mcApiUrl","_context","_context2","actualWindow","arguments","length","undefined","window","mcApiUrlObject","_mcApiUrlObject$hostn","hostname","split","call","_mcApiUrlObject$hostn2","tldMcApi","ctDomainMcApi","providerMcApi","regionMcApi","_actualWindow$locatio","location","_actualWindow$locatio2","tldMc","ctDomainMc","providerMc","regionMc","origin","replace","matchLeadingAndTrailingSlashes","trimLeadingAndTrailingSlashes","url","joinPaths","_len","paths","Array","_key","joint","path","Error","concat","join","RedirectToLogin","_window$app$__DEVELOP","_window$app$__DEVELOP2","servedByProxy","u","app","__DEVELOPMENT__","oidc","authorizeUrl","_window$app$__DEVELOP3","_window$app$__DEVELOP4","_window$app$__DEVELOP5","_window$app$__DEVELOP6","_window$app$__DEVELOP7","_window$app$__DEVELOP8","_window$app$__DEVELOP9","_window$app$__DEVELOP10","nextProjectKey","sessionId","state","nonce","v4","generateAndCacheNonceWithState","applicationId","query","redirectTo","requestedScope","b","projectKey","oAuthScopes","additionalOAuthScopes","teamId","R","to","queryParams","reason","client_id","response_type","scope","mcOrigin","g","pathname","displayName","ownKeys","object","enumerableOnly","keys","symbols","sym","enumerable","push","apply","_objectSpread","target","i","source","Object","key","Redirector","props","_props$origin","_props$queryParams","_enhancedLocation$que","originUrl","enhancedLocation","searchQuery","targetUrlObject","search","targetUrl","toString","useEffect","l","propTypes"],"sourceRoot":""}