{"version":3,"file":"6845.version-tracker.13ae535077317f191ef8.js","mappings":"i5GAwDA,MASMA,oBAAsBC,IAC1B,IAAIC,EAAkBD,EAAKC,gBAC3B,MAAO,CAAC,CACNC,WAAY,0BACZC,aAAc,CACZC,YAAaH,EACbI,aAAc,4CACdC,gBAAiB,MAElB,CACDJ,WAAY,0BACZC,aAAc,CACZC,YAAaH,EACbI,aAAc,QACdC,gBAAiB,EAAAC,UAEnB,EAEEC,eAAiB,KACrB,MAAMP,GAAkB,SAAsBQ,GAAWA,EAAQC,YAAYT,kBACvEU,GAAW,UAWjB,OAVA,IAAAC,YAAU,KACRD,EA/BiCX,KACnC,IAAIa,EAAUb,EAAKa,QACnB,OAAO,UAAa,CAClBC,IAAK,oBACLC,iBAAkB,gBAClBF,QAAS,IAAgBA,IACzB,EAyBSG,CAA6B,CACpCH,QAASd,oBAAoB,CAC3BE,uBAEAgB,OAAM,QAGR,GACD,CAAChB,EAAiBU,IACd,IAAI,EAEbH,eAAeU,YAAc,gB","sources":["webpack://my-new-custom-application-project/./node_modules/@commercetools-frontend/application-shell/dist/version-tracker-e3d4f892.esm.js"],"sourcesContent":["import { useEffect, version } from 'react';\nimport { useApplicationContext } from '@commercetools-frontend/application-shell-connectors';\nimport { actions, useAsyncDispatch } from '@commercetools-frontend/sdk';\nimport { f as applicationShellVersion } from './configure-apollo-e01b60c3.esm.js';\nimport _JSON$stringify from '@babel/runtime-corejs3/core-js-stable/json/stringify';\nimport { MC_API_PROXY_TARGETS } from '@commercetools-frontend/constants';\nimport '@babel/runtime-corejs3/core-js-stable/object/keys';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols';\nimport '@babel/runtime-corejs3/core-js-stable/instance/filter';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor';\nimport '@babel/runtime-corejs3/core-js-stable/instance/for-each';\nimport '@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-properties';\nimport '@babel/runtime-corejs3/core-js-stable/object/define-property';\nimport '@babel/runtime-corejs3/helpers/defineProperty';\nimport '@babel/runtime-corejs3/helpers/slicedToArray';\nimport '@babel/runtime-corejs3/core-js-stable/instance/reduce';\nimport '@babel/runtime-corejs3/core-js-stable/object/entries';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/has';\nimport '@reduxjs/toolkit';\nimport 'lodash/mapValues';\nimport 'omit-empty-es';\nimport 'redux-thunk';\nimport '@commercetools-frontend/notifications';\nimport '@babel/runtime-corejs3/core-js-stable/instance/index-of';\nimport '@babel/runtime-corejs3/core-js-stable/instance/slice';\nimport '@babel/runtime-corejs3/core-js-stable/instance/includes';\nimport '@commercetools-frontend/sentry';\nimport './constants-16199962.esm.js';\nimport '@commercetools-frontend/react-notifications';\nimport '@babel/runtime-corejs3/core-js-stable/instance/starts-with';\nimport 'redux-logger';\nimport '@babel/runtime-corejs3/core-js-stable/url';\nimport '@babel/runtime-corejs3/core-js-stable/instance/concat';\nimport '@babel/runtime-corejs3/core-js-stable/instance/find';\nimport '@apollo/client';\nimport 'apollo-link-logger';\nimport '@apollo/client/link/error';\nimport '@commercetools-frontend/browser-history';\nimport '@babel/runtime-corejs3/core-js-stable/array/is-array';\nimport '@babel/runtime-corejs3/core-js-stable/instance/some';\nimport '@babel/runtime-corejs3/core-js-stable/object/values';\nimport '@babel/runtime-corejs3/core-js-stable/instance/map';\nimport '@commercetools/http-user-agent';\nimport 'uuid';\nimport '@babel/runtime-corejs3/core-js-stable/reflect/construct';\nimport '@babel/runtime-corejs3/helpers/createClass';\nimport '@babel/runtime-corejs3/helpers/classCallCheck';\nimport '@babel/runtime-corejs3/helpers/assertThisInitialized';\nimport '@babel/runtime-corejs3/helpers/inherits';\nimport '@babel/runtime-corejs3/helpers/possibleConstructorReturn';\nimport '@babel/runtime-corejs3/helpers/getPrototypeOf';\nimport '@babel/runtime-corejs3/helpers/wrapNativeSuper';\nimport '@apollo/client/link/retry';\n\n// eslint-disable-next-line import/prefer-default-export\nconst pushDependencyVersionCounter = _ref => {\n  let payload = _ref.payload;\n  return actions.post({\n    uri: '/metrics/counters',\n    mcApiProxyTarget: MC_API_PROXY_TARGETS.MC_METRICS,\n    payload: _JSON$stringify(payload)\n  });\n};\n\nconst createVersionMetric = _ref => {\n  let applicationName = _ref.applicationName;\n  return [{\n    metricName: 'npm_dependency_versions',\n    metricLabels: {\n      application: applicationName,\n      package_name: '@commercetools-frontend/application-shell',\n      package_version: applicationShellVersion\n    }\n  }, {\n    metricName: 'npm_dependency_versions',\n    metricLabels: {\n      application: applicationName,\n      package_name: 'react',\n      package_version: version\n    }\n  }];\n};\nconst VersionTracker = () => {\n  const applicationName = useApplicationContext(context => context.environment.applicationName);\n  const dispatch = useAsyncDispatch();\n  useEffect(() => {\n    dispatch(pushDependencyVersionCounter({\n      payload: createVersionMetric({\n        applicationName\n      })\n    })).catch(() => {\n      // Error is ignored under the assumption that page is being\n      // reloaded whilst the request was being sent or network request was interrupted\n    });\n  }, [applicationName, dispatch]);\n  return null;\n};\nVersionTracker.displayName = 'VersionTracker';\n\nexport { VersionTracker as default };\n"],"names":["createVersionMetric","_ref","applicationName","metricName","metricLabels","application","package_name","package_version","version","VersionTracker","context","environment","dispatch","useEffect","payload","uri","mcApiProxyTarget","pushDependencyVersionCounter","catch","displayName"],"sourceRoot":""}