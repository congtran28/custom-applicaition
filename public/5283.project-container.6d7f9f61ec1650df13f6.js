"use strict";(self.webpackChunkmy_new_custom_application_project=self.webpackChunkmy_new_custom_application_project||[]).push([[5283],{"./node_modules/@commercetools-frontend/application-shell/dist/project-container-e9dbf82d.esm.js":(e,o,s)=>{s.r(o),s.d(o,{default:()=>ProjectContainer});var t=s("./node_modules/@babel/runtime-corejs3/helpers/esm/slicedToArray.js"),n=s("./node_modules/react/index.js"),r=s("./node_modules/lodash/isNil.js"),l=s.n(r),c=s("./node_modules/react-dom/index.js"),i=s("./node_modules/react-intl/lib/index.js"),d=s("./node_modules/react-intl/lib/src/components/message.js"),a=s("./node_modules/react-intl/lib/src/components/useIntl.js"),m=s("./node_modules/react-router/esm/react-router.js"),u=s("./node_modules/@commercetools-frontend/application-shell-connectors/dist/commercetools-frontend-application-shell-connectors.esm.js"),p=s("./node_modules/@commercetools-frontend/constants/dist/commercetools-frontend-constants.esm.js"),j=s("./node_modules/@commercetools-frontend/react-notifications/dist/commercetools-frontend-react-notifications.esm.js"),b=s("./node_modules/@commercetools-frontend/application-shell/dist/constants-16199962.esm.js"),_=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js"),f=s.n(_),h=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols.js"),y=s.n(h),g=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js"),v=s.n(g),Z=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"),w=s.n(Z),k=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js"),x=s.n(k),L=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors.js"),C=s.n(L),P=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-properties.js"),S=s.n(P),T=s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js"),A=s.n(T),E=s("./node_modules/@babel/runtime-corejs3/helpers/esm/defineProperty.js"),B=s("./node_modules/tiny-invariant/dist/esm/tiny-invariant.js"),K=s("./node_modules/@commercetools-frontend/application-components/dist/commercetools-frontend-application-components.esm.js"),D=s("./node_modules/@commercetools-frontend/application-config/ssr/dist/commercetools-frontend-application-config-ssr.esm.js"),O=s("./node_modules/@commercetools-frontend/permissions/dist/commercetools-frontend-permissions.esm.js"),R=s("./node_modules/@commercetools-frontend/application-shell/dist/configure-apollo-e01b60c3.esm.js"),V=s("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ownKeys(e,o){var s=f()(e);if(y()){var t=y()(e);o&&(t=v()(t).call(t,(function(o){return w()(e,o).enumerable}))),s.push.apply(s,t)}return s}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var s,t,n=null!=arguments[o]?arguments[o]:{};o%2?x()(s=ownKeys(Object(n),!0)).call(s,(function(o){(0,E.Z)(e,o,n[o])})):C()?S()(e,C()(n)):x()(t=ownKeys(Object(n))).call(t,(function(o){A()(e,o,w()(n,o))}))}return e}const ApplicationRouteWithPermissionCheck=e=>{const o=(0,D.X7)(e.environment.entryPointUriPath);return(0,O.bk)({demandedPermissions:[o.View]})?(0,V.tZ)(V.HY,{children:n.Children.only(e.children)}):(0,V.tZ)(K.BU,{})};ApplicationRouteWithPermissionCheck.propTypes={};const ApplicationRoute=e=>e.disableRoutePermissionCheck?(0,V.tZ)(V.HY,{children:n.Children.only(e.children)}):(0,V.tZ)(ApplicationRouteWithPermissionCheck,_objectSpread({},e));ApplicationRoute.propTypes={};const ApplicationEntryPoint=e=>{if(e.children){const o=e.environment.entryPointUriPath;return(0,V.BX)(m.rs,{children:[null,(0,V.tZ)(m.AW,{path:"/:projectKey/".concat(o),children:(0,V.tZ)(ApplicationRoute,_objectSpread({},e))}),(0,V.tZ)(R.R,{})]})}return e.render&&"function"===typeof e.render?(0,V.tZ)(V.HY,{children:e.render()}):(e.render&&(0,B.Z)(!1),null)};ApplicationEntryPoint.propTypes={};var z=s("./node_modules/@commercetools-frontend/application-shell/dist/index-58243680.esm.js"),N=s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js"),W=s.n(N),U=s("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),Y=s("./node_modules/@commercetools-uikit/accessible-hidden/dist/commercetools-uikit-accessible-hidden.esm.js"),H=s("./node_modules/@commercetools-uikit/design-system/dist/commercetools-uikit-design-system.esm.js"),I=s("./node_modules/@commercetools-uikit/icons/dist/commercetools-uikit-icons.esm.js"),X=s("./node_modules/@commercetools-uikit/select-input/dist/commercetools-uikit-select-input.esm.js"),M=(s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/entries.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/reflect/has.js"),s("./node_modules/lodash/mapValues.js"),s("./node_modules/omit-empty-es/dist/omit-empty-es.esm.js"),s("./node_modules/@commercetools-frontend/notifications/dist/commercetools-frontend-notifications.esm.js"),s("./node_modules/@commercetools-frontend/sdk/dist/commercetools-frontend-sdk.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/index-of.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/slice.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js"),s("./node_modules/@commercetools-frontend/sentry/dist/commercetools-frontend-sentry.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/starts-with.js"),s("./node_modules/redux-logger/dist/redux-logger.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/url.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js"),s("./node_modules/apollo-link-logger/es/index.js"),s("./node_modules/@commercetools-frontend/browser-history/dist/commercetools-frontend-browser-history.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/array/is-array.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/some.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/values.js"),s("./node_modules/@commercetools/http-user-agent/dist/http-user-agent.umd.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/reflect/construct.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/json/stringify.js"),s("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s("./node_modules/@commercetools-frontend/i18n/dist/commercetools-frontend-i18n.esm.js"),s("./node_modules/@commercetools-frontend/assets/images/logo.svg"),s("./node_modules/@commercetools-frontend/application-shell/dist/use-is-served-by-proxy-77984220.esm.js"),s("./node_modules/@commercetools-frontend/assets/images/ct-logo.svg"),s("./node_modules/@commercetools-frontend/l10n/dist/commercetools-frontend-l10n.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/array/from.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/every.js"),s("./node_modules/@flopflip/react-broadcast/dist/flopflip-react-broadcast.browser.esm.js"),s("./node_modules/classnames/index.js"),s("./node_modules/@commercetools-frontend/assets/images/diagonal-line.svg"),s("./node_modules/@commercetools-uikit/icons/inline-svg/dist/commercetools-uikit-icons-inline-svg.esm.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/object/from-entries.js"),s("./node_modules/@babel/runtime-corejs3/core-js-stable/instance/flags.js"),s("./node_modules/@flopflip/combine-adapters/dist/flopflip-combine-adapters.esm.js"),s("./node_modules/@flopflip/http-adapter/dist/flopflip-http-adapter.esm.js"),s("./node_modules/@flopflip/launchdarkly-adapter/dist/flopflip-launchdarkly-adapter.esm.js"),s("./node_modules/react-redux/es/index.js"),s("./node_modules/lodash/upperFirst.js"),s("./node_modules/@commercetools-frontend/application-shell/dist/oidc-cd2edc3c.esm.js"),s("./node_modules/@commercetools-uikit/design-system/materials/resets.css"),s("./node_modules/@commercetools-frontend/actions-global/dist/commercetools-frontend-actions-global.esm.js"),(0,i.vU)({localesLabel:{id:"LocaleSwitcher.localesLabel",description:"The label for project dropdown switcher",defaultMessage:"Locales menu"}}));function project_container_e9dbf82d_esm_ownKeys(e,o){var s=f()(e);if(y()){var t=y()(e);o&&(t=v()(t).call(t,(function(o){return w()(e,o).enumerable}))),s.push.apply(s,t)}return s}function project_container_e9dbf82d_esm_objectSpread(e){for(var o=1;o<arguments.length;o++){var s,t,n=null!=arguments[o]?arguments[o]:{};o%2?x()(s=project_container_e9dbf82d_esm_ownKeys(Object(n),!0)).call(s,(function(o){(0,E.Z)(e,o,n[o])})):C()?S()(e,C()(n)):x()(t=project_container_e9dbf82d_esm_ownKeys(Object(n))).call(t,(function(o){A()(e,o,w()(n,o))}))}return e}const q="locale-switcher-label";var F={name:"lmfqdl",styles:"flex:1;align-items:center;display:flex"};const SingleValue=e=>(0,V.BX)("div",{css:F,children:[(0,V.tZ)(I.VD,{size:"big"}),(0,V.tZ)("span",{css:(0,U.iv)("margin-left:2px;flex:1;color:",H.Wp.colorAccent,";",""),children:e.children}),(0,V.tZ)("span",{css:(0,U.iv)("width:26px;height:26px;border-radius:100%;background:",H.Wp.colorNeutral,";color:",H.Wp.colorSurface,";font-size:",H.Wp.fontSize30,";display:flex;justify-content:center;align-items:center;",""),children:e.localeCount})]});SingleValue.propTypes={},SingleValue.displayName="SingleValue";const PatchedValueContainer=e=>(0,V.tZ)(X.Z.ValueContainer,project_container_e9dbf82d_esm_objectSpread(project_container_e9dbf82d_esm_objectSpread({},e),{},{innerProps:{style:{display:"flex"}}}));PatchedValueContainer.displayName="PatchedValueContainer";const LocaleSwitcher=e=>{var o;const s=e.setProjectDataLocale,t=(0,n.useCallback)((e=>{s(e.target.value)}),[s]);return(0,V.BX)("div",{css:(0,U.iv)("position:relative;width:",H.Wp.constraint4,";",""),children:[(0,V.tZ)(Y.Z,{children:(0,V.tZ)("span",{id:q,children:(0,V.tZ)(d.Z,project_container_e9dbf82d_esm_objectSpread({},M.localesLabel))})}),(0,V.tZ)(X.Z,{value:e.projectDataLocale,name:"locale-switcher","aria-labelledby":q,onChange:t,options:W()(o=e.availableLocales).call(o,(e=>({label:e,value:e}))),components:{SingleValue:o=>(0,V.tZ)(SingleValue,project_container_e9dbf82d_esm_objectSpread(project_container_e9dbf82d_esm_objectSpread({},o),{},{localeCount:e.availableLocales.length})),ValueContainer:PatchedValueContainer},isClearable:!1,backspaceRemovesValue:!1,isSearchable:!1})]})};LocaleSwitcher.propTypes={};const J=(0,n.lazy)((()=>s.e(2031).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-expired-190b2e36.esm.js")))),G=(0,n.lazy)((()=>s.e(4260).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-not-found-180d6cd9.esm.js")))),$=(0,n.lazy)((()=>s.e(7697).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-not-initialized-ce723430.esm.js")))),Q=(0,n.lazy)((()=>s.e(7972).then(s.bind(s,"./node_modules/@commercetools-frontend/application-shell/dist/project-suspended-92817ed2.esm.js"))));var ee=(0,i.vU)({trialDaysLeft:{id:"Project.trialDaysLeft",defaultMessage:"Your project trial period will expire in {daysLeft} {daysLeft, plural, one {day} other {days}}. For any inquiries please contact sales@commercetools.com"}});const ProjectContainer=e=>{var o;const s=(0,a.Z)(),r=(0,m.TH)(),i=(0,m.$B)(),d=(0,n.useState)(null),_=(0,t.Z)(d,2),f=_[0],h=_[1];(0,n.useEffect)((()=>{h(document.getElementById(b.C.LOCALE_SWITCHER))}),[h]);const y=i.params.projectKey;(0,n.useEffect)((()=>{y&&window.localStorage.setItem(b.S.ACTIVE_PROJECT_KEY,y)}),[y]);const g=e.user&&0===e.user.projects.total;return g&&!0!==e.environment.enableSignUp&&e.environment.servedByProxy?(0,V.tZ)(m.l_,{to:"/logout?reason=".concat(p.nt.NO_PROJECTS)}):g&&e.environment.enableSignUp?(0,V.BX)(m.rs,{children:[(0,V.tZ)(m.AW,{path:"/account",children:null===(o=e.render)||void 0===o?void 0:o.call(e)}),(0,V.tZ)(m.AW,{children:(0,V.tZ)(z.g,{})})]}):(0,V.tZ)(z.E,{pathname:r.pathname,children:(0,V.tZ)(n.Suspense,{fallback:(0,V.tZ)(z.A,{}),children:(0,V.tZ)(z.h,{skip:!e.user||!e.user.defaultProjectKey,projectKey:y,children:o=>{let t=o.isLoading,n=o.project;return t?(0,V.tZ)(z.A,{}):n?n.suspension&&n.suspension.isActive?(0,V.tZ)(Q,{isTemporary:n.suspension.reason===b.c.TEMPORARY_MAINTENANCE}):n.expiry&&n.expiry.isActive?(0,V.tZ)(J,{}):!1===n.initialized?(0,V.tZ)($,{}):(0,V.tZ)(z.P,{locales:n.languages,children:o=>{var t;let r=o.locale,i=o.setProjectDataLocale;return(0,V.tZ)(u.By,{user:e.user,project:n,projectDataLocale:r,environment:e.environment,children:(0,V.BX)(V.HY,{children:[(d=null!==(t=n.expiry.daysLeft)&&void 0!==t?t:void 0,!l()(d)&&d<=14&&d>=0&&(0,V.tZ)(j.d4,{kind:"warning",domain:p.w7.GLOBAL,text:s.formatMessage(ee.trialDaysLeft,{daysLeft:n.expiry.daysLeft||0})})),f&&n.languages.length>1&&c.createPortal((0,V.tZ)(LocaleSwitcher,{projectDataLocale:r,setProjectDataLocale:i,availableLocales:n.languages}),f),(0,V.tZ)(ApplicationEntryPoint,{environment:e.environment,disableRoutePermissionCheck:e.disableRoutePermissionCheck,render:e.render,children:e.children})]})});var d}}):(0,V.tZ)(G,{})}})})})};ProjectContainer.propTypes={},ProjectContainer.displayName="ProjectContainer"}}]);
//# sourceMappingURL=5283.project-container.6d7f9f61ec1650df13f6.js.map